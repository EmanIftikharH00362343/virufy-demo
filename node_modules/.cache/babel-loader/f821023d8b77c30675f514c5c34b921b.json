{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/arcsec/virufy-demo.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useCallback,useState}from'react';import{useHistory}from'react-router-dom';import usePortal from'react-useportal';// Header Control\nimport{Trans,useTranslation}from'react-i18next';import useHeaderContext from'hooks/useHeaderContext';// Components\nimport WizardButtons from'components/WizardButtons';// Theme\nimport{colors}from'theme';// Utils\nimport{scrollToTop}from'helper/scrollHelper';// Styles\nimport{WelcomeContent,WelcomeSubtitle,WelcomeItemList,WelcomeItemListItem,WelcomeStyledFormAlternative,WelcomeBorderContainer,ShapeDownContainer}from'../style';var defaultAdviseList=['Please use your own device and wear a mask when appropriate.','Disinfect your device and any affected or nearby surfaces after recording your cough/speech.','If you have an underlying condition that increases your risk from coughing, please check with your health care provider before participating.','If you feel your symptoms are getting worse, please contact your local medical response'];var Step4=function Step4(p){var _usePortal=usePortal({bindTo:document&&document.getElementById('wizard-buttons')}),Portal=_usePortal.Portal;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),activeStep=_useState2[0],setActiveStep=_useState2[1];var _useHeaderContext=useHeaderContext(),setDoGoBack=_useHeaderContext.setDoGoBack,setTitle=_useHeaderContext.setTitle,title=_useHeaderContext.title,setType=_useHeaderContext.setType,setLogoSize=_useHeaderContext.setLogoSize,setSubtitle=_useHeaderContext.setSubtitle;var history=useHistory();var _useTranslation=useTranslation(),t=_useTranslation.t;var handleNext=React.useCallback(function(){if(p.nextStep){history.push(p.nextStep);}},[history,p.nextStep]);var doBack=useCallback(function(){if(p.previousStep){setActiveStep(false);history.push(p.previousStep);}else{history.goBack();}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(function(){// Clear title if needed\nif(title)setTitle('');// eslint-disable-next-line react-hooks/exhaustive-deps\n},[title]);useEffect(function(){scrollToTop();setDoGoBack(function(){return doBack;});},[doBack,setDoGoBack]);useEffect(function(){setType('shapeDown');setLogoSize('regular');setSubtitle(t('beforeStart:title'));// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var adviseList=t('beforeStart:advise_list',{returnObjects:true,defaultValue:defaultAdviseList});return/*#__PURE__*/_jsxs(WelcomeStyledFormAlternative,{children:[/*#__PURE__*/_jsx(ShapeDownContainer,{children:/*#__PURE__*/_jsx(WelcomeBorderContainer,{children:/*#__PURE__*/_jsx(WelcomeSubtitle,{fontColor:colors.mineShaft,mb:15,mt:20,textAlign:\"left\",isBold:true,children:/*#__PURE__*/_jsx(Trans,{i18nKey:\"beforeStart:subtitle\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"To ensure safety, we advise you to:\"})})})})}),/*#__PURE__*/_jsxs(WelcomeContent,{mt:10,mb:95,children:[/*#__PURE__*/_jsx(WelcomeItemList,{children:adviseList.map(function(advise,idx){return/*#__PURE__*/ (// eslint-disable-next-line react/no-array-index-key\n_jsx(WelcomeItemListItem,{children:advise},\"advise_\".concat(idx)));})}),activeStep&&/*#__PURE__*/_jsx(Portal,{children:/*#__PURE__*/_jsx(WizardButtons,{leftLabel:t('beforeStart:startButton'),leftHandler:handleNext,invert:true})})]})]});};export default/*#__PURE__*/React.memo(Step4);","map":{"version":3,"sources":["/Users/arcsec/virufy-demo.github.io/src/containers/Welcome/Step4/Step4.tsx"],"names":["React","useEffect","useCallback","useState","useHistory","usePortal","Trans","useTranslation","useHeaderContext","WizardButtons","colors","scrollToTop","WelcomeContent","WelcomeSubtitle","WelcomeItemList","WelcomeItemListItem","WelcomeStyledFormAlternative","WelcomeBorderContainer","ShapeDownContainer","defaultAdviseList","Step4","p","bindTo","document","getElementById","Portal","activeStep","setActiveStep","setDoGoBack","setTitle","title","setType","setLogoSize","setSubtitle","history","t","handleNext","nextStep","push","doBack","previousStep","goBack","adviseList","returnObjects","defaultValue","mineShaft","map","advise","idx","memo"],"mappings":"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","sourcesContent":["import React, { useEffect, useCallback, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport usePortal from 'react-useportal';\n\n// Header Control\nimport { Trans, useTranslation } from 'react-i18next';\nimport useHeaderContext from 'hooks/useHeaderContext';\n\n// Components\nimport WizardButtons from 'components/WizardButtons';\n\n// Theme\nimport { colors } from 'theme';\n\n// Utils\nimport { scrollToTop } from 'helper/scrollHelper';\n\n// Styles\nimport {\n  WelcomeContent,\n  WelcomeSubtitle,\n  WelcomeItemList,\n  WelcomeItemListItem,\n  WelcomeStyledFormAlternative,\n  WelcomeBorderContainer,\n  ShapeDownContainer,\n} from '../style';\n\nconst defaultAdviseList = [\n  'Please use your own device and wear a mask when appropriate.',\n  'Disinfect your device and any affected or nearby surfaces after recording your cough/speech.',\n  'If you have an underlying condition that increases your risk from coughing, please check with your health care provider before participating.',\n  'If you feel your symptoms are getting worse, please contact your local medical response',\n];\n\nconst Step4 = (p: Wizard.StepProps) => {\n  const { Portal } = usePortal({\n    bindTo: document && document.getElementById('wizard-buttons') as HTMLDivElement,\n  });\n\n  const [activeStep, setActiveStep] = useState(true);\n  const {\n    setDoGoBack, setTitle, title, setType, setLogoSize, setSubtitle,\n  } = useHeaderContext();\n\n  const history = useHistory();\n  const { t } = useTranslation();\n\n  const handleNext = React.useCallback(() => {\n    if (p.nextStep) {\n      history.push(p.nextStep);\n    }\n  }, [history, p.nextStep]);\n\n  const doBack = useCallback(() => {\n    if (p.previousStep) {\n      setActiveStep(false);\n      history.push(p.previousStep);\n    } else {\n      history.goBack();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    // Clear title if needed\n    if (title) setTitle('');\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [title]);\n\n  useEffect(() => {\n    scrollToTop();\n    setDoGoBack(() => doBack);\n  }, [doBack, setDoGoBack]);\n\n  useEffect(() => {\n    setType('shapeDown');\n    setLogoSize('regular');\n    setSubtitle(t('beforeStart:title'));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const adviseList: string[] = t('beforeStart:advise_list', { returnObjects: true, defaultValue: defaultAdviseList });\n\n  return (\n    <WelcomeStyledFormAlternative>\n      <ShapeDownContainer>\n        <WelcomeBorderContainer>\n          <WelcomeSubtitle\n            fontColor={colors.mineShaft}\n            mb={15}\n            mt={20}\n            textAlign=\"left\"\n            isBold\n          >\n            <Trans i18nKey=\"beforeStart:subtitle\">\n              <strong>To ensure safety, we advise you to:</strong>\n            </Trans>\n          </WelcomeSubtitle>\n        </WelcomeBorderContainer>\n      </ShapeDownContainer>\n      <WelcomeContent mt={10} mb={95}>\n        <WelcomeItemList>\n          {adviseList.map((advise, idx) => (\n            // eslint-disable-next-line react/no-array-index-key\n            <WelcomeItemListItem key={`advise_${idx}`}>{advise}</WelcomeItemListItem>\n          ))}\n        </WelcomeItemList>\n\n        {activeStep && (\n          <Portal>\n            <WizardButtons\n              leftLabel={t('beforeStart:startButton')}\n              leftHandler={handleNext}\n              invert\n            />\n          </Portal>\n        )}\n      </WelcomeContent>\n    </WelcomeStyledFormAlternative>\n  );\n};\n\nexport default React.memo(Step4);\n"]},"metadata":{},"sourceType":"module"}