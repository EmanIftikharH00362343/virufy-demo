{"ast":null,"code":"import { jsx, css } from '@emotion/react';\nimport { useMemo, useRef, useEffect, cloneElement, Children, createElement, useState, useCallback } from 'react';\nimport t from 'prop-types';\nimport { Switch } from 'react-router-dom';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  display: grid;\\n  .item {\\n    grid-area: 1 / 1 / 2 / 2;\\n  }\\n  .item:not(:only-child) {\\n    &.\", \"-enter-active, &.\", \"-exit-active {\\n      transition: transform \", \"ms \", \";\\n    }\\n  }\\n\\n  &.slide {\\n    overflow: hidden;\\n\\n    // back\\n    .back-enter {\\n      transform: translateX(-100%);\\n    }\\n    .back-enter-active {\\n      transform: translateX(0);\\n    }\\n    .back-exit {\\n      transform: translateX(0);\\n    }\\n    .back-exit-active {\\n      transform: translate(100%);\\n    }\\n\\n    // next\\n    .next-enter {\\n      transform: translateX(100%);\\n    }\\n    .next-enter-active {\\n      transform: translateX(0);\\n    }\\n    .next-exit {\\n      transform: translateX(0);\\n    }\\n    .next-exit-active {\\n      transform: translateX(-100%);\\n    }\\n  }\\n  &.rotate {\\n    perspective: 2000px;\\n\\n    .item {\\n      backface-visibility: hidden;\\n    }\\n\\n    // back\\n    .back-enter {\\n      transform: rotateY(-180deg);\\n    }\\n    .back-enter-active {\\n      transform: rotateY(0);\\n    }\\n    .back-exit {\\n      transform: rotateY(0);\\n    }\\n    .back-exit-active {\\n      transform: rotateY(180deg);\\n    }\\n\\n    // next\\n    .next-enter {\\n      transform: rotateY(180deg);\\n    }\\n    .next-enter-active {\\n      transform: rotateY(0);\\n    }\\n    .next-exit {\\n      transform: rotateY(0);\\n    }\\n    .next-exit-active {\\n      transform: rotateY(-180deg);\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n/**\n * save\n */\n\n\nvar save = function save(key, init) {\n  var getRaw = function getRaw() {\n    return sessionStorage.getItem(key);\n  };\n\n  var set = function set(val) {\n    return sessionStorage.setItem(key, JSON.stringify(val));\n  };\n\n  var remove = function remove() {\n    return sessionStorage.removeItem(key);\n  };\n\n  if (init !== undefined && getRaw() === null) set(init);\n\n  var getVal = function getVal() {\n    return JSON.parse(getRaw());\n  };\n\n  var setVal = function setVal(val) {\n    return val === undefined ? remove() : set(val);\n  };\n\n  return [getVal, setVal];\n};\n/**\n * useSave\n */\n\n\nvar useSave = function useSave(key, initVal) {\n  var initRef = useRef(initVal);\n\n  var _useMemo = useMemo(function () {\n    return save(key, initRef.current);\n  }, [key]),\n      getVal = _useMemo[0],\n      setVal = _useMemo[1];\n\n  var _useState = useState(getVal()),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var set = useCallback(function (val) {\n    setVal(val);\n    setState(val);\n  }, [setVal]);\n  return [state, set];\n};\n/**\n * styles\n */\n\n\nvar getCSS = function getCSS(duration, timing, direction) {\n  return css(_templateObject(), direction, direction, duration, timing);\n};\n/**\n * SlideRoutes\n */\n\n\nvar SlideRoutes = function SlideRoutes(_ref) {\n  var location = _ref.location,\n      animation = _ref.animation,\n      pathList = _ref.pathList,\n      duration = _ref.duration,\n      timing = _ref.timing,\n      destroy = _ref.destroy,\n      children = _ref.children;\n\n  var _useSave = useSave('::slide::history::', []),\n      historyList = _useSave[0],\n      setHistoryList = _useSave[1];\n\n  var hasPathList = useMemo(function () {\n    var has = (pathList == null ? void 0 : pathList.length) > 0;\n    if (has && historyList) setHistoryList(undefined);\n    return has;\n  }, [historyList, pathList, setHistoryList]);\n  var pathname = location.pathname;\n  var prevPath = useRef(hasPathList ? pathname : historyList == null ? void 0 : historyList[0]);\n  var move = useRef('');\n\n  if (prevPath.current !== pathname) {\n    if (hasPathList) {\n      var prevIndex = pathList.indexOf(prevPath.current);\n      var nextIndex = pathList.indexOf(pathname);\n\n      if (nextIndex > prevIndex) {\n        move.current = 'next';\n      } else {\n        move.current = 'back';\n      }\n    } else {\n      var _nextIndex = historyList.lastIndexOf(pathname);\n\n      if (_nextIndex === -1) {\n        move.current = 'next';\n        historyList.push(pathname);\n      } else {\n        move.current = 'back';\n        historyList.length = _nextIndex + 1;\n      }\n\n      setHistoryList([].concat(historyList));\n    }\n\n    prevPath.current = pathname;\n  }\n\n  useEffect(function () {\n    return function () {\n      setHistoryList(undefined);\n    };\n  }, [setHistoryList]);\n  var direction = move.current;\n  var CSSProps = destroy ? {\n    timeout: duration\n  } : {\n    addEndListener: function addEndListener() {}\n  };\n  return jsx(TransitionGroup, {\n    className: \"slide-routes \" + animation,\n    childFactory: function childFactory(child) {\n      return /*#__PURE__*/cloneElement(child, {\n        classNames: direction\n      });\n    },\n    css: getCSS(duration, timing, direction)\n  }, jsx(CSSTransition, Object.assign({\n    key: pathname\n  }, CSSProps), jsx(Switch, {\n    location: location\n  }, Children.map(children, function (child) {\n    if (!child) return child;\n\n    var _child$props = child.props,\n        render = _child$props.render,\n        component = _child$props.component,\n        restProps = _objectWithoutPropertiesLoose(_child$props, [\"render\", \"component\"]);\n\n    var element = render ? render() : /*#__PURE__*/createElement(component);\n    if (element.props.replace === true) return child;\n\n    var newRender = function newRender() {\n      return jsx(\"div\", {\n        className: \"item\"\n      }, element);\n    };\n\n    return _extends({}, child, {\n      props: _extends({}, restProps, {\n        render: newRender\n      })\n    });\n  }))));\n};\n\nSlideRoutes.defaultProps = {\n  animation: 'slide',\n  duration: 200,\n  timing: 'ease',\n  destroy: true\n};\nSlideRoutes.propTypes = {\n  location: t.object.isRequired,\n  animation: t.oneOf(['slide', 'rotate']),\n  pathList: t.array,\n  duration: t.number,\n  timing: t.oneOf(['ease', 'ease-in', 'ease-out', 'ease-in-out', 'linear']),\n  destroy: t.bool,\n  children: t.node\n};\nexport default SlideRoutes;","map":{"version":3,"sources":["/home/amil/virufy-demo.github.io/node_modules/react-slide-routes/dist/react-slide-routes.esm.js"],"names":["jsx","css","useMemo","useRef","useEffect","cloneElement","Children","createElement","useState","useCallback","t","Switch","TransitionGroup","CSSTransition","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","_taggedTemplateLiteralLoose","strings","raw","slice","_templateObject","data","save","init","getRaw","sessionStorage","getItem","set","val","setItem","JSON","stringify","remove","removeItem","undefined","getVal","parse","setVal","useSave","initVal","initRef","_useMemo","current","_useState","state","setState","getCSS","duration","timing","direction","SlideRoutes","_ref","location","animation","pathList","destroy","children","_useSave","historyList","setHistoryList","hasPathList","has","pathname","prevPath","move","prevIndex","nextIndex","_nextIndex","lastIndexOf","push","concat","CSSProps","timeout","addEndListener","className","childFactory","child","classNames","map","_child$props","props","render","component","restProps","element","replace","newRender","defaultProps","propTypes","object","isRequired","oneOf","array","number","bool","node"],"mappings":"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","sourcesContent":["import { jsx, css } from '@emotion/react';\nimport { useMemo, useRef, useEffect, cloneElement, Children, createElement, useState, useCallback } from 'react';\nimport t from 'prop-types';\nimport { Switch } from 'react-router-dom';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  display: grid;\\n  .item {\\n    grid-area: 1 / 1 / 2 / 2;\\n  }\\n  .item:not(:only-child) {\\n    &.\", \"-enter-active, &.\", \"-exit-active {\\n      transition: transform \", \"ms \", \";\\n    }\\n  }\\n\\n  &.slide {\\n    overflow: hidden;\\n\\n    // back\\n    .back-enter {\\n      transform: translateX(-100%);\\n    }\\n    .back-enter-active {\\n      transform: translateX(0);\\n    }\\n    .back-exit {\\n      transform: translateX(0);\\n    }\\n    .back-exit-active {\\n      transform: translate(100%);\\n    }\\n\\n    // next\\n    .next-enter {\\n      transform: translateX(100%);\\n    }\\n    .next-enter-active {\\n      transform: translateX(0);\\n    }\\n    .next-exit {\\n      transform: translateX(0);\\n    }\\n    .next-exit-active {\\n      transform: translateX(-100%);\\n    }\\n  }\\n  &.rotate {\\n    perspective: 2000px;\\n\\n    .item {\\n      backface-visibility: hidden;\\n    }\\n\\n    // back\\n    .back-enter {\\n      transform: rotateY(-180deg);\\n    }\\n    .back-enter-active {\\n      transform: rotateY(0);\\n    }\\n    .back-exit {\\n      transform: rotateY(0);\\n    }\\n    .back-exit-active {\\n      transform: rotateY(180deg);\\n    }\\n\\n    // next\\n    .next-enter {\\n      transform: rotateY(180deg);\\n    }\\n    .next-enter-active {\\n      transform: rotateY(0);\\n    }\\n    .next-exit {\\n      transform: rotateY(0);\\n    }\\n    .next-exit-active {\\n      transform: rotateY(-180deg);\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n/**\n * save\n */\n\nvar save = function save(key, init) {\n  var getRaw = function getRaw() {\n    return sessionStorage.getItem(key);\n  };\n\n  var set = function set(val) {\n    return sessionStorage.setItem(key, JSON.stringify(val));\n  };\n\n  var remove = function remove() {\n    return sessionStorage.removeItem(key);\n  };\n\n  if (init !== undefined && getRaw() === null) set(init);\n\n  var getVal = function getVal() {\n    return JSON.parse(getRaw());\n  };\n\n  var setVal = function setVal(val) {\n    return val === undefined ? remove() : set(val);\n  };\n\n  return [getVal, setVal];\n};\n/**\n * useSave\n */\n\n\nvar useSave = function useSave(key, initVal) {\n  var initRef = useRef(initVal);\n\n  var _useMemo = useMemo(function () {\n    return save(key, initRef.current);\n  }, [key]),\n      getVal = _useMemo[0],\n      setVal = _useMemo[1];\n\n  var _useState = useState(getVal()),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var set = useCallback(function (val) {\n    setVal(val);\n    setState(val);\n  }, [setVal]);\n  return [state, set];\n};\n/**\n * styles\n */\n\n\nvar getCSS = function getCSS(duration, timing, direction) {\n  return css(_templateObject(), direction, direction, duration, timing);\n};\n/**\n * SlideRoutes\n */\n\n\nvar SlideRoutes = function SlideRoutes(_ref) {\n  var location = _ref.location,\n      animation = _ref.animation,\n      pathList = _ref.pathList,\n      duration = _ref.duration,\n      timing = _ref.timing,\n      destroy = _ref.destroy,\n      children = _ref.children;\n\n  var _useSave = useSave('::slide::history::', []),\n      historyList = _useSave[0],\n      setHistoryList = _useSave[1];\n\n  var hasPathList = useMemo(function () {\n    var has = (pathList == null ? void 0 : pathList.length) > 0;\n    if (has && historyList) setHistoryList(undefined);\n    return has;\n  }, [historyList, pathList, setHistoryList]);\n  var pathname = location.pathname;\n  var prevPath = useRef(hasPathList ? pathname : historyList == null ? void 0 : historyList[0]);\n  var move = useRef('');\n\n  if (prevPath.current !== pathname) {\n    if (hasPathList) {\n      var prevIndex = pathList.indexOf(prevPath.current);\n      var nextIndex = pathList.indexOf(pathname);\n\n      if (nextIndex > prevIndex) {\n        move.current = 'next';\n      } else {\n        move.current = 'back';\n      }\n    } else {\n      var _nextIndex = historyList.lastIndexOf(pathname);\n\n      if (_nextIndex === -1) {\n        move.current = 'next';\n        historyList.push(pathname);\n      } else {\n        move.current = 'back';\n        historyList.length = _nextIndex + 1;\n      }\n\n      setHistoryList([].concat(historyList));\n    }\n\n    prevPath.current = pathname;\n  }\n\n  useEffect(function () {\n    return function () {\n      setHistoryList(undefined);\n    };\n  }, [setHistoryList]);\n  var direction = move.current;\n  var CSSProps = destroy ? {\n    timeout: duration\n  } : {\n    addEndListener: function addEndListener() {}\n  };\n  return jsx(TransitionGroup, {\n    className: \"slide-routes \" + animation,\n    childFactory: function childFactory(child) {\n      return /*#__PURE__*/cloneElement(child, {\n        classNames: direction\n      });\n    },\n    css: getCSS(duration, timing, direction)\n  }, jsx(CSSTransition, Object.assign({\n    key: pathname\n  }, CSSProps), jsx(Switch, {\n    location: location\n  }, Children.map(children, function (child) {\n    if (!child) return child;\n\n    var _child$props = child.props,\n        render = _child$props.render,\n        component = _child$props.component,\n        restProps = _objectWithoutPropertiesLoose(_child$props, [\"render\", \"component\"]);\n\n    var element = render ? render() : /*#__PURE__*/createElement(component);\n    if (element.props.replace === true) return child;\n\n    var newRender = function newRender() {\n      return jsx(\"div\", {\n        className: \"item\"\n      }, element);\n    };\n\n    return _extends({}, child, {\n      props: _extends({}, restProps, {\n        render: newRender\n      })\n    });\n  }))));\n};\n\nSlideRoutes.defaultProps = {\n  animation: 'slide',\n  duration: 200,\n  timing: 'ease',\n  destroy: true\n};\nSlideRoutes.propTypes = {\n  location: t.object.isRequired,\n  animation: t.oneOf(['slide', 'rotate']),\n  pathList: t.array,\n  duration: t.number,\n  timing: t.oneOf(['ease', 'ease-in', 'ease-out', 'ease-in-out', 'linear']),\n  destroy: t.bool,\n  children: t.node\n};\n\nexport default SlideRoutes;\n"]},"metadata":{},"sourceType":"module"}