{"ast":null,"code":"import{isSafari}from'react-device-detect';export function getDuration(e,remove){return new Promise(function(resolver){if(e.duration!==Infinity&&(!isSafari||isSafari&&e.duration>0)){resolver(e.duration);return;}e.addEventListener('durationchange',function(){if(remove){e.remove();}else{e.pause();e.volume=1;e.currentTime=0;}resolver(e.duration);});e.currentTime=24*60*60;// Unprobable time\ne.play();});}","map":{"version":3,"sources":["/Users/arcsec/Documents/Virufy/virufy-demo.github.io/src/helper/getDuration.ts"],"names":["isSafari","getDuration","e","remove","Promise","resolver","duration","Infinity","addEventListener","pause","volume","currentTime","play"],"mappings":"AAAA,OAASA,QAAT,KAAyB,qBAAzB,CAEA,MAAO,SAASC,CAAAA,WAAT,CAAqBC,CAArB,CAA0CC,MAA1C,CAA6E,CAClF,MAAO,IAAIC,CAAAA,OAAJ,CAAY,SAAAC,QAAQ,CAAI,CAC7B,GAAIH,CAAC,CAACI,QAAF,GAAeC,QAAf,GACI,CAACP,QAAD,EACAA,QAAQ,EAAIE,CAAC,CAACI,QAAF,CAAa,CAF7B,CAAJ,CAEsC,CACpCD,QAAQ,CAACH,CAAC,CAACI,QAAH,CAAR,CACA,OACD,CACDJ,CAAC,CAACM,gBAAF,CAAmB,gBAAnB,CAAqC,UAAM,CACzC,GAAIL,MAAJ,CAAY,CACVD,CAAC,CAACC,MAAF,GACD,CAFD,IAEO,CACLD,CAAC,CAACO,KAAF,GACAP,CAAC,CAACQ,MAAF,CAAW,CAAX,CACAR,CAAC,CAACS,WAAF,CAAgB,CAAhB,CACD,CACDN,QAAQ,CAACH,CAAC,CAACI,QAAH,CAAR,CACD,CATD,EAUAJ,CAAC,CAACS,WAAF,CAAgB,GAAK,EAAL,CAAU,EAA1B,CAA8B;AAC9BT,CAAC,CAACU,IAAF,GACD,CAnBM,CAAP,CAoBD","sourcesContent":["import { isSafari } from 'react-device-detect';\n\nexport function getDuration(e: HTMLAudioElement, remove?: boolean): Promise<number> {\n  return new Promise(resolver => {\n    if (e.duration !== Infinity\n        && (!isSafari\n        || (isSafari && e.duration > 0))) {\n      resolver(e.duration);\n      return;\n    }\n    e.addEventListener('durationchange', () => {\n      if (remove) {\n        e.remove();\n      } else {\n        e.pause();\n        e.volume = 1;\n        e.currentTime = 0;\n      }\n      resolver(e.duration);\n    });\n    e.currentTime = 24 * 60 * 60; // Unprobable time\n    e.play();\n  });\n}\n"]},"metadata":{},"sourceType":"module"}