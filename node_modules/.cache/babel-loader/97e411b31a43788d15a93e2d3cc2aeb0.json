{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/home/amil/virufy-demo.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React from'react';import{createStore,useStateMachine}from'little-state-machine';import{useHistory}from'react-router-dom';import Wizard from'components/Wizard';// Wizard\nvar StoreKey='submit-steps';createStore(_defineProperty({},StoreKey,{recordYourCough:{recordingFile:undefined,uploadedFile:undefined}}),{name:'VirufyWizard',middleWares:[],storageType:window.localStorage});var baseUrl='/submit-steps';var baseComponentPath='SubmitSteps';var middleComponentPathRecording='RecordingsSteps';var middleComponentPathSubmission='Submission';var recordYourCoughLogic='recordYourCough';var steps=[// Record Your Cough Steps\n{path:'/step-record/cough',componentPath:\"\".concat(baseComponentPath,\"/\").concat(middleComponentPathRecording,\"/Introduction\"),props:{storeKey:StoreKey,previousStep:'/welcome/step-3',nextStep:\"\".concat(baseUrl,\"/step-listen/cough\"),otherSteps:{manualUploadStep:\"\".concat(baseUrl,\"/step-manual-upload/cough\")},metadata:{currentLogic:recordYourCoughLogic}}},{path:'/step-manual-upload/cough',componentPath:\"\".concat(baseComponentPath,\"/\").concat(middleComponentPathRecording,\"/RecordManualUpload\"),props:{storeKey:StoreKey,previousStep:\"\".concat(baseUrl,\"/step-record/cough\"),nextStep:\"\".concat(baseUrl,\"/step-listen/cough\"),metadata:{currentLogic:recordYourCoughLogic}}},{path:'/step-listen/cough',componentPath:\"\".concat(baseComponentPath,\"/\").concat(middleComponentPathRecording,\"/ListenAudio\"),props:{storeKey:StoreKey,previousStep:\"\".concat(baseUrl,\"/step-record/cough\"),nextStep:\"\".concat(baseUrl,\"/prediction-result\"),metadata:{currentLogic:recordYourCoughLogic}}},// Submission\n{path:'/prediction-result',componentPath:\"\".concat(baseComponentPath,\"/\").concat(middleComponentPathSubmission,\"/PredictionResult\"),props:{storeKey:StoreKey,previousStep:\"\".concat(baseUrl,\"/step-record/cough\"),nextStep:''}}];var SubmitSteps=function SubmitSteps(){// Hooks\nvar _useStateMachine=useStateMachine(),state=_useStateMachine.state;var history=useHistory();// Effects\nReact.useEffect(function(){var checkFileProblem=function checkFileProblem(file){if(file&&file.size===undefined){return true;}return false;};var checkFileConsistencyProblem=function checkFileConsistencyProblem(inputState){var out=null;if(inputState[StoreKey]){var recordYourCough=inputState[StoreKey].recordYourCough;var toTest=[];if(recordYourCough){var recordingFile=recordYourCough.recordingFile,uploadedFile=recordYourCough.uploadedFile;if(recordingFile){toTest.push({file:recordingFile,route:'/step-record/cough'});}if(uploadedFile){toTest.push({file:uploadedFile,route:'/step-manual-upload/cough'});}}var itemWithProblem=toTest.find(function(toTestItem){return checkFileProblem(toTestItem.file);});if(itemWithProblem){out=itemWithProblem.route;}}return out;};var problemRoute=checkFileConsistencyProblem(state);if(problemRoute){history.push(\"/\".concat(StoreKey).concat(problemRoute));}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return null;};var WrapperSubmitSteps=function WrapperSubmitSteps(){return/*#__PURE__*/_jsx(Wizard,{steps:steps,children:/*#__PURE__*/_jsx(SubmitSteps,{})});};export default/*#__PURE__*/React.memo(WrapperSubmitSteps);","map":null,"metadata":{},"sourceType":"module"}