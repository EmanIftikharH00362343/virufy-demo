{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/amil/virufy-demo.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/amil/virufy-demo.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/amil/virufy-demo.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// Showing positive egardless of what user submits //\nimport React from'react';import{useTranslation,Trans}from'react-i18next';import usePortal from'react-useportal';// import axios from 'axios';\nimport{useHistory}from'react-router-dom';// Header Control\nimport useHeaderContext from'hooks/useHeaderContext';// Utils\nimport{scrollToTop}from'helper/scrollHelper';// Styles\nimport WizardButtons from'components/WizardButtons';import{Title,ImageProcessing,ProcessingContainer,PredictionResultContainer,TitleResult,ImagePredictionResult,IntroText,StyledLow,StyledHigh,SubmitError}from'./style';var PredictionResult=function PredictionResult(){// Hooks\nvar _useHeaderContext=useHeaderContext(),setDoGoBack=_useHeaderContext.setDoGoBack,setTitle=_useHeaderContext.setTitle,setSubtitle=_useHeaderContext.setSubtitle,setType=_useHeaderContext.setType;var _useTranslation=useTranslation(),t=_useTranslation.t;var _usePortal=usePortal({bindTo:document&&document.getElementById('wizard-buttons')}),Portal=_usePortal.Portal;var history=useHistory();// States\nvar errorCode=null;var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),processing=_React$useState2[0],setProcessing=_React$useState2[1];var _React$useState3=React.useState('unknown'),_React$useState4=_slicedToArray(_React$useState3,2),prediction=_React$useState4[0],setPrediction=_React$useState4[1];var submitError=null;React.useEffect(function(){// Hide the Footer Report Problems while processing\nvar target=document&&document.getElementById('footer-report-problems');if(target){if(processing){target.style.display='none';}else{target.style.display='flex';}}},[processing]);// Handlers\nvar handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setPrediction('positive');_context.next=3;return new Promise(function(resolve){return setTimeout(resolve,2000);});case 3:setProcessing(false);case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();var handleReturnMain=React.useCallback(function(){history.replace('/welcome');},[history]);// Effects\nReact.useEffect(function(){scrollToTop();setTitle('');setDoGoBack(function(){});setType('noShape');handleSubmit();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);React.useEffect(function(){if(processing){setSubtitle('');}else{setSubtitle(\"\".concat(t('predictionResult:result')));}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[processing]);// Always positive result hardcoded\nconsole.log('errorCode',errorCode);return/*#__PURE__*/_jsxs(_Fragment,{children:[processing?/*#__PURE__*/_jsxs(ProcessingContainer,{children:[/*#__PURE__*/_jsx(Title,{children:t('predictionResult:processingTitle')}),/*#__PURE__*/_jsx(ImageProcessing,{})]}):/*#__PURE__*/_jsx(_Fragment,{children:errorCode==='invalid_access_code'?/*#__PURE__*/_jsxs(PredictionResultContainer,{children:[/*#__PURE__*/_jsx(Title,{children:t('predictionResult:result')}),/*#__PURE__*/_jsx(TitleResult,{color:\"#FF4444\",children:/*#__PURE__*/_jsx(Trans,{i18nKey:\"predictionResult:resultDetectedDummy\"})}),/*#__PURE__*/_jsx(StyledHigh,{}),/*#__PURE__*/_jsx(IntroText,{children:/*#__PURE__*/_jsx(Trans,{i18nKey:\"predictionResult:resultDetectedText\",children:\"Your voice has indicators of COVID-19. Please contact your healthcare professional and take additional precautions.\"})}),/*#__PURE__*/_jsx(ImagePredictionResult,{})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(PredictionResultContainer,{children:[/*#__PURE__*/_jsx(Title,{children:t('predictionResult:result')}),prediction==='negative'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TitleResult,{color:\"#4FDB76\",children:t('predictionResult:resultNotDetected')}),/*#__PURE__*/_jsx(StyledLow,{}),/*#__PURE__*/_jsx(IntroText,{children:/*#__PURE__*/_jsxs(Trans,{i18nKey:\"predictionResult:resultNotDetectedText\",children:[\"Your voice does not seem to have indicators of COVID-19. Please \",/*#__PURE__*/_jsx(\"strong\",{children:\"continue to take appropriate measures\"}),\" based on the advice of your healthcare professional or applicable regulatory body and reassess yourself in our app daily.\"]})})]}),prediction==='unknown'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TitleResult,{children:t('predictionResult:resultNotAnalyze')}),/*#__PURE__*/_jsx(IntroText,{children:/*#__PURE__*/_jsxs(Trans,{i18nKey:\"predictionResult:resultNotAnalyzeText\",children:[\"Our algorithm is not able to determine your COVID-19 status.\",/*#__PURE__*/_jsx(\"strong\",{children:\"Please submit another cough\"}),\".\"]})})]}),prediction==='positive'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(StyledHigh,{}),/*#__PURE__*/_jsx(TitleResult,{color:\"#FF4444\",children:t('predictionResult:resultDetected')}),/*#__PURE__*/_jsx(IntroText,{children:/*#__PURE__*/_jsx(Trans,{i18nKey:\"predictionResult:resultDetectedText\",children:\"Your voice has indicators of COVID-19. Please contact your healthcare professional and take additional precautions.\"})})]})]})})}),/*#__PURE__*/_jsxs(Portal,{children:[!processing&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IntroText,{children:/*#__PURE__*/_jsxs(Trans,{i18nKey:\"predictionResult:resultModalDummy\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Aviso importante:\"}),\" Esta aplicaci\\xF3n no predecir\\xE1 su estado de COVID-19 ni diagnosticar\\xE1 ninguna enfermedad, trastorno u otra condici\\xF3n de salud. Virufy est\\xE1 llevando a cabo una investigaci\\xF3n y utilizar\\xE1 la informaci\\xF3n que proporciones \\xFAnicamente para dicha investigaci\\xF3n. Virufy no sustituir\\xE1 a un m\\xE9dico y le recuerda que es su responsabilidad buscar consejo m\\xE9dico de su m\\xE9dico.\"]})}),/*#__PURE__*/_jsx(WizardButtons,{invert:true,leftLabel:t('predictionResult:nextButton'),leftHandler:handleReturnMain})]}),submitError&&/*#__PURE__*/_jsx(SubmitError,{children:\"\".concat(submitError)})]})]});};export default/*#__PURE__*/React.memo(PredictionResult);","map":null,"metadata":{},"sourceType":"module"}