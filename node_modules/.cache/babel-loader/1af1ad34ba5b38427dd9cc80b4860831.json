{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/amil/virufy-demo.github.io/src/containers/SubmitSteps/RecordingsSteps/Introduction/Introduction.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Trans, useTranslation } from 'react-i18next'; // Form\n\nimport { useStateMachine } from 'little-state-machine'; // Header Control\n\nimport useHeaderContext from 'hooks/useHeaderContext'; // Hooks\n\nimport useWindowSize from 'hooks/useWindowSize'; // Utils\n\nimport { scrollToTop } from 'helper/scrollHelper';\nimport { updateAction } from 'utils/wizard'; // Images\n\nimport Record from './Record'; // Styles\n\nimport { MainContainer, InstructionSubtitle, SocialDistancing, CoughLeft, InstructionBullets, BulletIndicator, InstructionContainer } from './style';\n\nfunction getDefaultValue(state, currentLogic) {\n  var _state$currentLogic, _state$currentLogic$r;\n\n  if (state && currentLogic && ((_state$currentLogic = state[currentLogic]) === null || _state$currentLogic === void 0 ? void 0 : (_state$currentLogic$r = _state$currentLogic.recordingFile) === null || _state$currentLogic$r === void 0 ? void 0 : _state$currentLogic$r.size) !== undefined) {\n    return state[currentLogic];\n  }\n\n  return {\n    recordingFile: null\n  };\n}\n\nconst Introduction = ({\n  previousStep,\n  nextStep,\n  otherSteps,\n  metadata,\n  storeKey\n}) => {\n  _s();\n\n  const {\n    state,\n    actions\n  } = useStateMachine({\n    updateAction: updateAction(storeKey)\n  }); // Hooks\n\n  const {\n    setDoGoBack,\n    setTitle,\n    setType,\n    setSubtitle\n  } = useHeaderContext();\n  const history = useHistory();\n  const {\n    t\n  } = useTranslation();\n  const {\n    width\n  } = useWindowSize(); // Handlers\n\n  const handleDoBack = React.useCallback(() => {\n    if (previousStep) {\n      history.push(previousStep);\n    } else {\n      history.goBack();\n    }\n  }, [history, previousStep]);\n  const handleManualUpload = React.useCallback(() => {\n    if (otherSteps && otherSteps.manualUploadStep) {\n      history.push(otherSteps.manualUploadStep);\n    }\n  }, [otherSteps, history]);\n  const handleNext = React.useCallback(values => {\n    if (nextStep) {\n      actions.updateAction({\n        [metadata === null || metadata === void 0 ? void 0 : metadata.currentLogic]: {\n          recordingFile: values.recordingFile,\n          uploadedFile: null\n        }\n      });\n      history.push(nextStep, {\n        from: 'step-record'\n      });\n    }\n  }, [nextStep, actions, metadata, history]); // Effects\n\n  useEffect(() => {\n    scrollToTop();\n    setTitle(t('recordingsIntroduction:recordCough.header'));\n    setDoGoBack(() => handleDoBack);\n    setType('shapeUp');\n    setSubtitle(t('recordingsIntroduction:recordCough.title'));\n  }, [setTitle, setSubtitle, handleDoBack, setDoGoBack, t, setType]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(MainContainer, {\n      children: [/*#__PURE__*/_jsxDEV(InstructionContainer, {\n        mt: 40,\n        mb: 30,\n        children: [/*#__PURE__*/_jsxDEV(InstructionBullets, {\n          children: /*#__PURE__*/_jsxDEV(BulletIndicator, {\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InstructionSubtitle, {\n          mt: width && width > 560 ? 0 : 0,\n          textAlign: \"left\",\n          isBold: true,\n          children: /*#__PURE__*/_jsxDEV(Trans, {\n            i18nKey: \"recordingsIntroduction:recordCough.intro1\",\n            children: [\"Find a \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"quiet environment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 22\n            }, this), \" at least\", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"20 ft (6m)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this), \" away from others and wear a cloth or surgical mask. If you are feeling ill, please sit down.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SocialDistancing, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InstructionContainer, {\n        mt: 40,\n        mb: 40,\n        children: [/*#__PURE__*/_jsxDEV(InstructionBullets, {\n          children: /*#__PURE__*/_jsxDEV(BulletIndicator, {\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InstructionSubtitle, {\n          mt: width && width > 560 ? 0 : 0,\n          textAlign: \"left\",\n          isBold: true,\n          children: /*#__PURE__*/_jsxDEV(Trans, {\n            i18nKey: \"recordingsIntroduction:recordCough.intro2\",\n            children: [\"Hold your device \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"1-2 ft (30-60 cm)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 32\n            }, this), \" away from your mouth and\", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"do not obstruct\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this), \" or cover your device with plastic. Do not cough violently or too forcefully.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CoughLeft, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InstructionContainer, {\n        mt: 40,\n        mb: 0,\n        children: [/*#__PURE__*/_jsxDEV(InstructionBullets, {\n          children: /*#__PURE__*/_jsxDEV(BulletIndicator, {\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InstructionSubtitle, {\n          mt: width && width > 560 ? 0 : 0,\n          textAlign: \"left\",\n          isBold: true,\n          children: /*#__PURE__*/_jsxDEV(Trans, {\n            i18nKey: \"recordingsIntroduction:recordCough.text\",\n            children: [\"Click the record button below and\", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"cough intentionally three times with a deep breath between each cough.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this), \"When you are done, tap the stop button.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Record, {\n        defaultValues: getDefaultValue(state === null || state === void 0 ? void 0 : state[storeKey], metadata === null || metadata === void 0 ? void 0 : metadata.currentLogic),\n        onManualUpload: handleManualUpload,\n        onNext: handleNext,\n        currentLogic: (metadata === null || metadata === void 0 ? void 0 : metadata.currentLogic) || '',\n        action: actions.updateAction\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InstructionContainer, {\n        mt: 40,\n        mb: 40,\n        children: [/*#__PURE__*/_jsxDEV(InstructionBullets, {\n          children: /*#__PURE__*/_jsxDEV(BulletIndicator, {\n            children: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InstructionSubtitle, {\n          mt: width && width > 560 ? 0 : 0,\n          textAlign: \"left\",\n          children: /*#__PURE__*/_jsxDEV(Trans, {\n            i18nKey: \"recordingsRecord:textCount\",\n            children: \"Click the record button below and cough intentionally three times with a deep breath between each cough. When you are done, tap the stop button.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Introduction, \"e4r3dCXUN4nD8v/vCJnsoqGv1Fg=\", false, function () {\n  return [useStateMachine, useHeaderContext, useHistory, useTranslation, useWindowSize];\n});\n\n_c = Introduction;\nexport default _c2 = /*#__PURE__*/React.memo(Introduction);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Introduction\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/home/amil/virufy-demo.github.io/src/containers/SubmitSteps/RecordingsSteps/Introduction/Introduction.tsx"],"names":["React","useEffect","useHistory","Trans","useTranslation","useStateMachine","useHeaderContext","useWindowSize","scrollToTop","updateAction","Record","MainContainer","InstructionSubtitle","SocialDistancing","CoughLeft","InstructionBullets","BulletIndicator","InstructionContainer","getDefaultValue","state","currentLogic","recordingFile","size","undefined","Introduction","previousStep","nextStep","otherSteps","metadata","storeKey","actions","setDoGoBack","setTitle","setType","setSubtitle","history","t","width","handleDoBack","useCallback","push","goBack","handleManualUpload","manualUploadStep","handleNext","values","uploadedFile","from","memo"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Trans, useTranslation } from 'react-i18next';\n\n// Form\nimport { SubmitSteps, useStateMachine } from 'little-state-machine';\n\n// Header Control\nimport useHeaderContext from 'hooks/useHeaderContext';\n\n// Hooks\nimport useWindowSize from 'hooks/useWindowSize';\n\n// Utils\nimport { scrollToTop } from 'helper/scrollHelper';\nimport { updateAction } from 'utils/wizard';\n\n// Images\nimport Record, { RecordType } from './Record';\n\n// Styles\nimport {\n  MainContainer,\n  InstructionSubtitle,\n  SocialDistancing,\n  CoughLeft,\n  InstructionBullets,\n  BulletIndicator,\n  InstructionContainer,\n} from './style';\n\nfunction getDefaultValue(state?: SubmitSteps, currentLogic?: 'recordYourCough'): RecordType {\n  if (state && currentLogic && state[currentLogic]?.recordingFile?.size !== undefined) {\n    return state[currentLogic] as RecordType;\n  }\n\n  return {\n    recordingFile: null,\n  };\n}\n\nconst Introduction = ({\n  previousStep,\n  nextStep,\n  otherSteps,\n  metadata,\n  storeKey,\n}: Wizard.StepProps) => {\n  const { state, actions } = useStateMachine({ updateAction: updateAction(storeKey) });\n\n  // Hooks\n  const {\n    setDoGoBack, setTitle, setType, setSubtitle,\n  } = useHeaderContext();\n  const history = useHistory();\n  const { t } = useTranslation();\n  const { width } = useWindowSize();\n  // Handlers\n  const handleDoBack = React.useCallback(() => {\n    if (previousStep) {\n      history.push(previousStep);\n    } else {\n      history.goBack();\n    }\n  }, [history, previousStep]);\n\n  const handleManualUpload = React.useCallback(() => {\n    if (otherSteps && otherSteps.manualUploadStep) {\n      history.push(otherSteps.manualUploadStep);\n    }\n  }, [otherSteps, history]);\n\n  const handleNext = React.useCallback(\n    values => {\n      if (nextStep) {\n        actions.updateAction({\n          [metadata?.currentLogic]: {\n            recordingFile: values.recordingFile,\n            uploadedFile: null,\n          },\n        });\n        history.push(nextStep, { from: 'step-record' });\n      }\n    },\n    [nextStep, actions, metadata, history],\n  );\n\n  // Effects\n  useEffect(() => {\n    scrollToTop();\n    setTitle(t('recordingsIntroduction:recordCough.header'));\n    setDoGoBack(() => handleDoBack);\n    setType('shapeUp');\n    setSubtitle(t('recordingsIntroduction:recordCough.title'));\n  }, [setTitle, setSubtitle, handleDoBack, setDoGoBack, t, setType]);\n\n  return (\n    <>\n      <MainContainer>\n        <InstructionContainer mt={40} mb={30}>\n          <InstructionBullets>\n            <BulletIndicator>1</BulletIndicator>\n          </InstructionBullets>\n          <InstructionSubtitle mt={width && width > 560 ? 0 : 0} textAlign=\"left\" isBold>\n            <Trans i18nKey=\"recordingsIntroduction:recordCough.intro1\">\n              Find a <strong>quiet environment</strong> at least\n              <strong>20 ft (6m)</strong> away from others and wear a cloth or surgical mask.\n              If you are feeling ill, please sit down.\n            </Trans>\n          </InstructionSubtitle>\n        </InstructionContainer>\n        <SocialDistancing />\n        <InstructionContainer mt={40} mb={40}>\n          <InstructionBullets>\n            <BulletIndicator>2</BulletIndicator>\n          </InstructionBullets>\n          <InstructionSubtitle mt={width && width > 560 ? 0 : 0} textAlign=\"left\" isBold>\n            <Trans i18nKey=\"recordingsIntroduction:recordCough.intro2\">\n              Hold your device <strong>1-2 ft (30-60 cm)</strong> away from your mouth and\n              <strong>do not obstruct</strong> or cover your device with plastic.\n              Do not cough violently or too forcefully.\n            </Trans>\n          </InstructionSubtitle>\n        </InstructionContainer>\n        <CoughLeft />\n        <InstructionContainer mt={40} mb={0}>\n          <InstructionBullets>\n            <BulletIndicator>3</BulletIndicator>\n          </InstructionBullets>\n          <InstructionSubtitle mt={width && width > 560 ? 0 : 0} textAlign=\"left\" isBold>\n            <Trans i18nKey=\"recordingsIntroduction:recordCough.text\">\n              Click the record button below and\n              <strong>cough intentionally three times with a deep breath between each cough.</strong>\n              When you are done, tap the stop button.\n            </Trans>\n          </InstructionSubtitle>\n        </InstructionContainer>\n        <Record\n          defaultValues={getDefaultValue(state?.[storeKey], metadata?.currentLogic)}\n          onManualUpload={handleManualUpload}\n          onNext={handleNext}\n          currentLogic={metadata?.currentLogic || ''}\n          action={actions.updateAction}\n        />\n        <InstructionContainer mt={40} mb={40}>\n          <InstructionBullets>\n            <BulletIndicator>4</BulletIndicator>\n          </InstructionBullets>\n          <InstructionSubtitle mt={width && width > 560 ? 0 : 0} textAlign=\"left\">\n            <Trans i18nKey=\"recordingsRecord:textCount\">\n              Click the record button below and cough intentionally three times with a deep breath between\n              each cough. When you are done, tap the stop button.\n            </Trans>\n          </InstructionSubtitle>\n        </InstructionContainer>\n      </MainContainer>\n    </>\n  );\n};\n\nexport default React.memo(Introduction);\n"]},"metadata":{},"sourceType":"module"}