{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/home/amil/virufy-demo.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useEffect}from'react';import{useHistory}from'react-router-dom';import{Trans,useTranslation}from'react-i18next';// Form\nimport{useStateMachine}from'little-state-machine';// Header Control\nimport useHeaderContext from'hooks/useHeaderContext';// Hooks\nimport useWindowSize from'hooks/useWindowSize';// Utils\nimport{scrollToTop}from'helper/scrollHelper';import{updateAction}from'utils/wizard';// Images\nimport Record from'./Record';// Styles\nimport{MainContainer,InstructionSubtitle,SocialDistancing,CoughLeft,InstructionBullets,BulletIndicator,InstructionContainer}from'./style';function getDefaultValue(state,currentLogic){var _state$currentLogic,_state$currentLogic$r;if(state&&currentLogic&&((_state$currentLogic=state[currentLogic])===null||_state$currentLogic===void 0?void 0:(_state$currentLogic$r=_state$currentLogic.recordingFile)===null||_state$currentLogic$r===void 0?void 0:_state$currentLogic$r.size)!==undefined){return state[currentLogic];}return{recordingFile:null};}var Introduction=function Introduction(_ref){var previousStep=_ref.previousStep,nextStep=_ref.nextStep,otherSteps=_ref.otherSteps,metadata=_ref.metadata,storeKey=_ref.storeKey;var _useStateMachine=useStateMachine({updateAction:updateAction(storeKey)}),state=_useStateMachine.state,actions=_useStateMachine.actions;// Hooks\nvar _useHeaderContext=useHeaderContext(),setDoGoBack=_useHeaderContext.setDoGoBack,setTitle=_useHeaderContext.setTitle,setType=_useHeaderContext.setType,setSubtitle=_useHeaderContext.setSubtitle;var history=useHistory();var _useTranslation=useTranslation(),t=_useTranslation.t;var _useWindowSize=useWindowSize(),width=_useWindowSize.width;// Handlers\nvar handleDoBack=React.useCallback(function(){if(previousStep){history.push(previousStep);}else{history.goBack();}},[history,previousStep]);var handleManualUpload=React.useCallback(function(){if(otherSteps&&otherSteps.manualUploadStep){history.push(otherSteps.manualUploadStep);}},[otherSteps,history]);var handleNext=React.useCallback(function(values){if(nextStep){actions.updateAction(_defineProperty({},metadata===null||metadata===void 0?void 0:metadata.currentLogic,{recordingFile:values.recordingFile,uploadedFile:null}));history.push(nextStep,{from:'step-record'});}},[nextStep,actions,metadata,history]);// Effects\nuseEffect(function(){scrollToTop();setTitle(t('recordingsIntroduction:recordCough.header'));setDoGoBack(function(){return handleDoBack;});setType('shapeUp');setSubtitle(t('recordingsIntroduction:recordCough.title'));},[setTitle,setSubtitle,handleDoBack,setDoGoBack,t,setType]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(MainContainer,{children:[/*#__PURE__*/_jsxs(InstructionContainer,{mt:40,mb:30,children:[/*#__PURE__*/_jsx(InstructionBullets,{children:/*#__PURE__*/_jsx(BulletIndicator,{children:\"1\"})}),/*#__PURE__*/_jsx(InstructionSubtitle,{mt:width&&width>560?0:0,textAlign:\"left\",isBold:true,children:/*#__PURE__*/_jsxs(Trans,{i18nKey:\"recordingsIntroduction:recordCough.intro1\",children:[\"Find a \",/*#__PURE__*/_jsx(\"strong\",{children:\"quiet environment\"}),\" at least\",/*#__PURE__*/_jsx(\"strong\",{children:\"20 ft (6m)\"}),\" away from others and wear a cloth or surgical mask. If you are feeling ill, please sit down.\"]})})]}),/*#__PURE__*/_jsx(SocialDistancing,{}),/*#__PURE__*/_jsxs(InstructionContainer,{mt:40,mb:40,children:[/*#__PURE__*/_jsx(InstructionBullets,{children:/*#__PURE__*/_jsx(BulletIndicator,{children:\"2\"})}),/*#__PURE__*/_jsx(InstructionSubtitle,{mt:width&&width>560?0:0,textAlign:\"left\",isBold:true,children:/*#__PURE__*/_jsxs(Trans,{i18nKey:\"recordingsIntroduction:recordCough.intro2\",children:[\"Hold your device \",/*#__PURE__*/_jsx(\"strong\",{children:\"1-2 ft (30-60 cm)\"}),\" away from your mouth and\",/*#__PURE__*/_jsx(\"strong\",{children:\"do not obstruct\"}),\" or cover your device with plastic. Do not cough violently or too forcefully.\"]})})]}),/*#__PURE__*/_jsx(CoughLeft,{}),/*#__PURE__*/_jsxs(InstructionContainer,{mt:40,mb:0,children:[/*#__PURE__*/_jsx(InstructionBullets,{children:/*#__PURE__*/_jsx(BulletIndicator,{children:\"3\"})}),/*#__PURE__*/_jsx(InstructionSubtitle,{mt:width&&width>560?0:0,textAlign:\"left\",isBold:true,children:/*#__PURE__*/_jsxs(Trans,{i18nKey:\"recordingsIntroduction:recordCough.text\",children:[\"Click the record button below and\",/*#__PURE__*/_jsx(\"strong\",{children:\"cough intentionally three times with a deep breath between each cough.\"}),\"When you are done, tap the stop button.\"]})})]}),/*#__PURE__*/_jsx(Record,{defaultValues:getDefaultValue(state===null||state===void 0?void 0:state[storeKey],metadata===null||metadata===void 0?void 0:metadata.currentLogic),onManualUpload:handleManualUpload,onNext:handleNext,currentLogic:(metadata===null||metadata===void 0?void 0:metadata.currentLogic)||'',action:actions.updateAction}),/*#__PURE__*/_jsxs(InstructionContainer,{mt:40,mb:40,children:[/*#__PURE__*/_jsx(InstructionBullets,{children:/*#__PURE__*/_jsx(BulletIndicator,{children:\"4\"})}),/*#__PURE__*/_jsx(InstructionSubtitle,{mt:width&&width>560?0:0,textAlign:\"left\",children:/*#__PURE__*/_jsx(Trans,{i18nKey:\"recordingsRecord:textCount\",children:\"Click the record button below and cough intentionally three times with a deep breath between each cough. When you are done, tap the stop button.\"})})]})]})});};export default/*#__PURE__*/React.memo(Introduction);","map":null,"metadata":{},"sourceType":"module"}