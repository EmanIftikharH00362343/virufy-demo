{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from'react';import{useTranslation}from'react-i18next';import{useLocation}from'react-router-dom';// Modals\nimport PWAInstallModal from'modals/PWAInstallModal';// Hooks\nimport usePWAHelpers from'hooks/usePWAHelpers';// Styles\nimport{FooterContainer,DownloadSVG}from'./style';var FooterInstallAsApp=function FooterInstallAsApp(){var _useTranslation=useTranslation(),t=_useTranslation.t;var location=useLocation();var installPwaButtonId='virufy-install-button';var pwaModalRef=React.useRef(null);var _usePWAHelpers=usePWAHelpers(installPwaButtonId),handlePrompt=_usePWAHelpers.handlePrompt,isInstalled=_usePWAHelpers.isInstalled,setIsInstalled=_usePWAHelpers.setIsInstalled;var handleClickInstall=React.useCallback(function(){if(handlePrompt){var promise=handlePrompt();if(promise){promise.then(function(userChoiceResult){if(userChoiceResult&&userChoiceResult.outcome==='accepted'){setIsInstalled(true);}}).catch(function(){var _pwaModalRef$current;return(_pwaModalRef$current=pwaModalRef.current)===null||_pwaModalRef$current===void 0?void 0:_pwaModalRef$current.show();});}else{var _pwaModalRef$current2;(_pwaModalRef$current2=pwaModalRef.current)===null||_pwaModalRef$current2===void 0?void 0:_pwaModalRef$current2.show();}}},[handlePrompt,setIsInstalled]);if(location.pathname!=='/welcome/step-2')return null;return/*#__PURE__*/_jsxs(_Fragment,{children:[!isInstalled&&/*#__PURE__*/_jsxs(FooterContainer,{id:installPwaButtonId,onClick:handleClickInstall,children:[/*#__PURE__*/_jsx(DownloadSVG,{}),t('helpVirufy:installApp')]}),/*#__PURE__*/_jsx(PWAInstallModal,{ref:pwaModalRef})]});};export default/*#__PURE__*/React.memo(FooterInstallAsApp);","map":null,"metadata":{},"sourceType":"module"}