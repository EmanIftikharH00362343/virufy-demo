{"code":"(this[\"webpackJsonppwa-demo\"]=this[\"webpackJsonppwa-demo\"]||[]).push([[4,30],{168:function(e,n,t){\"use strict\";t.d(n,\"a\",(function(){return p}));var r=t(161),o=t(37),a=t(176),i=t(6),c=t.n(i),s=t(159),u=t(158),d=t(162);function l(){var e=Object(s.a)([\"\\n  height: 52px;\\n  border-radius: 15px; \\n  font-family: 'Source Sans Pro'; /* It could be removed if default on body changes */\\n  font-weight: bold;\\n  font-size: 14px;\\n  font-weight: bold;\\n  width: 100%;\\n\\n  \",\"\\n\"]);return l=function(){return e},e}var f=u.default.button(l(),(function(e){var n=e.dark,t=e.disabled?d.a.purple_50:d.a.purple;return n?\"\\n    background-color: \".concat(t,\";\\n    color: \").concat(d.a.white,\";\\n    border: none;\\n  \"):\"\\n    background-color: \".concat(d.a.white,\";\\n    color: \").concat(t,\";\\n    border: 1px solid \").concat(t,\";\\n  \")})),p=c.a.memo((function(e){var n=e.children,t=Object(a.a)(e,[\"children\"]);return Object(o.jsx)(f,Object(r.a)(Object(r.a)({type:\"button\"},t),{},{children:n}))}))},170:function(e,n,t){\"use strict\";t.d(n,\"a\",(function(){return l}));var r=t(37),o=t(6),a=t.n(o),i=t(168),c=t(159);function s(){var e=Object(c.a)([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  max-width: \",\";\\n  margin: 0 auto;\\n\\n  button {\\n    flex: 1;\\n\\n    &:first-of-type {\\n      margin-left: 0px !important;\\n    }\\n\\n    &:last-of-type {\\n      margin-left: 20px;\\n    }\\n  }\\n\\n  @media screen and (\",\"){\\n    max-width: 470px;\\n  }\\n\"]);return s=function(){return e},e}var u=t(158).default.div(s(),(function(e){return\"calc(100% - \".concat(2*e.theme.layout.generalPaddingAmount,\"px)\")}),(function(e){return e.theme.breakpoints.tablet})),d=a.a.memo((function(e){var n=e.invert,t=void 0!==n&&n,o=e.leftLabel,a=e.leftDisabled,c=e.leftHandler,s=e.rightLabel,d=e.rightDisabled,l=e.rightHandler;return Object(r.jsxs)(u,{children:[Object(r.jsx)(i.a,{dark:t,disabled:a,onClick:c,children:o}),s&&l&&Object(r.jsx)(i.a,{dark:!t,disabled:d,onClick:l,children:s})]})})),l=a.a.memo(d)},173:function(e,n,t){\"use strict\";t.d(n,\"b\",(function(){return d})),t.d(n,\"a\",(function(){return l}));var r=t(159),o=t(158),a=t(162);function i(){var e=Object(r.a)([\"\\n  font-family: 'Open Sans';\\n  font-weight: 700;\\n  font-size: 24px;\\n  line-height: 1;\\n  color: \",\";\\n\"]);return i=function(){return e},e}function c(){var e=Object(r.a)([\"\\n  \",\"\\n  color: \",\";\\n  \",\"\\n\"]);return c=function(){return e},e}function s(){var e=Object(r.a)([\"\\n  font-family: 'Source Sans Pro';\\n  font-size: 0.875rem;\\n  line-height: 20px;\\n\"]);return s=function(){return e},e}var u=Object(o.css)(s()),d=o.default.div(c(),u,(function(e){return e.dark?a.a.darkBlack:a.a.black}),(function(e){return e.fontSize?\"font-size: \".concat(e.fontSize,\";\"):\"\"})),l=o.default.div(i(),a.a.darkBlack)},209:function(e,n,t){\"use strict\";t.r(n);var r=t(37),o=t(167),a=t(177),i=t.n(a),c=t(178),s=t(6),u=t.n(s),d=t(179),l=t.n(d),f=t(844),p=t(217),m=t(226),h=t(229),g=t(161),b=t(165),v=t(823),x=t.n(v),j=t(180),O=function(){var e=this,n=[];this.onmessage=function(t){\"encode\"===t.data[0]?function(e){for(var t=e.length,r=new Uint8Array(2*t*1),o=0;o<t;o+=1){var a=2*o*1,i=e[o];i>1?i=1:i<-1&&(i=-1),i*=32768,r[a]=i,r[a+1]=i>>8}n.push(r)}(t.data[1]):\"dump\"===t.data[0]?function(e){var t=n.length?n[0].length:0,r=n.length*t,o=new Uint8Array(44+r),a=new DataView(o.buffer);a.setUint32(0,1380533830,!1),a.setUint32(4,36+r,!0),a.setUint32(8,1463899717,!1),a.setUint32(12,1718449184,!1),a.setUint32(16,16,!0),a.setUint16(20,1,!0),a.setUint16(22,1,!0),a.setUint32(24,e,!0),a.setUint32(28,1*e*2,!0),a.setUint16(32,2,!0),a.setUint16(34,16,!0),a.setUint32(36,1684108385,!1),a.setUint32(40,r,!0);for(var i=0;i<n.length;i+=1)o.set(n[i],i*t+44);n=[];var c=[o.buffer];postMessage(c,[c[0]])}(t.data[1]):\"close\"===t.data[0]&&e.close()}},y=function(){var e=null,n=1152,t=[];function r(e){var n=new Float32Array(e),t=new Int16Array(e.length);return function(e,n){for(var t=0;t<e.length;t+=1){var r=Math.max(-1,Math.min(1,e[t]));n[t]=r<0?32768*r:32767*r}}(n,t),t}onmessage=function(o){var a;\"encode\"===o.data[0]?function(o){for(var a=r(o),i=a.length,c=0;i>=0;c+=n){var s=a.subarray(c,c+n),u=e.encodeBuffer(s);t.push(u),i-=n}}(o.data[1]):\"dump\"===o.data[0]?function(){var n=e.flush();n.length>0&&t.push(n),postMessage(t),t=[]}(o.data[1]):\"init\"===o.data[0]?(a=o.data[1],importScripts(a.baseUrl+\"/workers/encoders/lame.min.js\"),e=new lamejs.Mp3Encoder(1,a.sampleRate,128)):\"close\"===o.data[0]&&this.close()}},C=function(){var e,n=Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_WORKERS_HOST||\"https://virufy.org/demo\";importScripts(\"\".concat(n,\"/workers/encoders/libflac.dev.js\"));var t=1,r=44100,o=5,a=16,i=1,c=0,s=[],u=[];function d(e,n){s.push(e),c+=e.byteLength}function l(){if(0!==(e=Flac.init_libflac_encoder(r,t,a,o,0))){var n=Flac.init_encoder_stream(e,d);i&=0==n,console.log(\"flac init     : \".concat(i)),console.log(\"status encoder: \".concat(n)),!0}else console.error(\"Error initializing the encoder.\")}function f(n){for(var r=n.length,o=new Uint32Array(r),a=new DataView(o.buffer),i=0,c=0;c<r;c+=1)a.setInt32(i,32767*n[c],!0),i+=4;var s=Flac.FLAC__stream_encoder_process_interleaved(e,o,o.length/t);1!=s&&console.log(\"Error: encode_buffer_pcm_as_flac returned false. \".concat(s))}function p(e,n){var t=function(e,n){for(var t=new Uint8Array(n),r=0,o=e.length,a=0;a<o;a+=1){var i=e[a];t.set(i,r),r+=i.length}return t}(e,n);return new Blob([t],{type:\"audio/flac\"})}this.onmessage=function(n){if(\"init\"===n.data[0])!function(e){var n=e;n||(n={bps:a,channels:t,samplerate:r,compression:o}),n.channels=n.channels?n.channels:t,n.samplerate=n.samplerate?n.samplerate:r,n.bps=n.bps?n.bps:a,n.compression=n.compression?n.compression:o,o=n.compression,a=n.bps,r=n.samplerate,t=n.channels,Flac.isReady()?l():Flac.onready=function(){setTimeout((function(){l()}),0)}}(n.data[1]);else if(\"encode\"===n.data[0])!function(e){if(Flac.isReady()){if(u.length>0)for(var n=u.length,t=u.splice(0,n),r=0;r<n;++r)f(t[r]);f(e)}else u.push(e),console.info(\"buffered audio data for Flac encdoing\")}(n.data[1]);else if(\"dump\"===n.data[0]){var d;Flac.isReady()?(i&=Flac.FLAC__stream_encoder_finish(e),console.log(\"flac finish: \".concat(i)),d=p(s,c),Flac.FLAC__stream_encoder_delete(e)):console.error(\"Flac was not initialized: could not encode data!\"),s.splice(0,s.length),c=0,u.splice(0,u.length),postMessage(d),!1}}},w=function e(n){var t=this;Object(j.a)(this,e),this.cleanup=function(){t.config.onRecording&&t.em.removeEventListener(\"recording\",t.recordingFn),t.config.onAudioProcesss&&t.em.removeEventListener(\"onaudioprocess\",t.onAudioProcessFn)},this.createWorker=function(e){var n=e.toString().replace(/^function\\s*\\(\\)\\s*{/,\"\").replace(/}$/,\"\"),t=new Blob([n]);return new Worker(URL.createObjectURL(t))},this.startRecording=function(e){if(\"inactive\"===t.state&&navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){if(t.audioCtx=new AudioContext({sampleRate:t.config.sampleRate}),t.micGainNode=t.audioCtx.createGain(),t.outputGainNode=t.audioCtx.createGain(),t.config.createDynamicsCompressorNode&&(t.dynamicsCompressorNode=t.audioCtx.createDynamicsCompressor()),t.config.createAnalyserNode&&(t.analyserNode=t.audioCtx.createAnalyser()),(t.config.forceScriptProcessor||t.config.broadcastAudioProcessEvents||!t.config.usingMediaRecorder)&&(t.processorNode=t.audioCtx.createScriptProcessor(t.config.processorBufferSize,1,1)),t.audioCtx.createMediaStreamDestination?t.destinationNode=t.audioCtx.createMediaStreamDestination():t.destinationNode=t.audioCtx.destination,!t.config.usingMediaRecorder){if(\"mp3\"===t.config.manualEncoderId){t.encoderWorker=t.createWorker(y);t.encoderWorker.postMessage([\"init\",{baseUrl:\"https://virufy.org/demo\",sampleRate:t.audioCtx.sampleRate}]),t.encoderMimeType=\"audio/mpeg\"}else\"flac\"===t.config.manualEncoderId?(t.encoderWorker=t.createWorker(C),t.encoderWorker.postMessage([\"init\",{sampleRate:t.audioCtx.sampleRate}]),t.encoderMimeType=\"audio/flac\"):(t.encoderWorker=t.createWorker(O),t.encoderMimeType=\"audio/wav\");t.encoderWorker.addEventListener(\"message\",(function(e){var n=new Event(\"dataavailable\");\"ogg\"===t.config.manualEncoderId||\"flac\"===t.config.manualEncoderId?n.data=e.data:n.data=new Blob(e.data,{type:t.encoderMimeType}),t._onDataAvailable(n)}))}var n={audio:{echoCancellation:t.config.enableEchoCancellation}};return t.config.deviceId&&(n.audio.deviceId=t.config.deviceId),navigator.mediaDevices.getUserMedia(n).then((function(n){t._startRecordingWithStream(n,e)})).catch((function(e){console.log(e)}))}},this.setMicGain=function(e){t.config.micGain=e,t.audioCtx&&t.micGainNode&&t.micGainNode.gain.setValueAtTime(e,t.audioCtx.currentTime)},this._startRecordingWithStream=function(e,n){t.micAudioStream=e,t.inputStreamNode=t.audioCtx.createMediaStreamSource(t.micAudioStream),t.audioCtx=t.inputStreamNode.context,t.onGraphSetupWithInputStream&&t.onGraphSetupWithInputStream(t.inputStreamNode),t.inputStreamNode.connect(t.micGainNode),t.micGainNode.gain.setValueAtTime(t.config.micGain,t.audioCtx.currentTime);var r=t.micGainNode;t.dynamicsCompressorNode&&(t.micGainNode.connect(t.dynamicsCompressorNode),r=t.dynamicsCompressorNode),t.state=\"recording\",t.processorNode?(r.connect(t.processorNode),t.processorNode.connect(t.outputGainNode),t.processorNode.onaudioprocess=function(e){return t._onAudioProcess(e)}):r.connect(t.outputGainNode),t.analyserNode&&r.connect(t.analyserNode),t.outputGainNode.connect(t.destinationNode),t.config.usingMediaRecorder?(t.mediaRecorder=new MediaRecorder(t.destinationNode.stream,{mimeType:t.encoderMimeType||\"audio/wav\"}),t.mediaRecorder.addEventListener(\"dataavailable\",(function(e){return t._onDataAvailable(e)})),t.mediaRecorder.addEventListener(\"error\",(function(e){return t._onError(e)})),t.mediaRecorder.start(n)):(t.outputGainNode.gain.setValueAtTime(0,t.audioCtx.currentTime),n&&(console.log(\"Time slicing without MediaRecorder is not yet supported. The resulting recording will not be playable.\"),t.slicing=setInterval((function(){\"recording\"===this.state&&this.encoderWorker.postMessage([\"dump\",this.context.sampleRate])}),n)))},this._onAudioProcess=function(e){t.config.broadcastAudioProcessEvents&&t.em.dispatchEvent(new CustomEvent(\"onaudioprocess\",{detail:{inputBuffer:e.inputBuffer,outputBuffer:e.outputBuffer}})),t.config.usingMediaRecorder||\"recording\"===t.state&&(t.config.broadcastAudioProcessEvents?t.encoderWorker.postMessage([\"encode\",e.outputBuffer.getChannelData(0)]):t.encoderWorker.postMessage([\"encode\",e.inputBuffer.getChannelData(0)]))},this.stopRecording=function(){\"inactive\"!==t.state&&(t.config.usingMediaRecorder?(t.state=\"inactive\",t.mediaRecorder.stop()):(t.state=\"inactive\",t.encoderWorker.postMessage([\"dump\",t.audioCtx.sampleRate]),clearInterval(t.slicing)))},this._onDataAvailable=function(e){if(t.chunks.push(e.data),t.chunkType=e.data.type,\"inactive\"===t.state){var n=new Blob(t.chunks,{type:t.chunkType}),r=URL.createObjectURL(n),o={ts:(new Date).getTime(),blobUrl:r,mimeType:n.type,size:n.size};t.chunks=[],t.chunkType=null,t.destinationNode&&(t.destinationNode.disconnect(),t.destinationNode=null),t.outputGainNode&&(t.outputGainNode.disconnect(),t.outputGainNode=null),t.analyserNode&&(t.analyserNode.disconnect(),t.analyserNode=null),t.processorNode&&(t.processorNode.disconnect(),t.processorNode=null),t.encoderWorker&&(t.encoderWorker.postMessage([\"close\"]),t.encoderWorker=null),t.dynamicsCompressorNode&&(t.dynamicsCompressorNode.disconnect(),t.dynamicsCompressorNode=null),t.micGainNode&&(t.micGainNode.disconnect(),t.micGainNode=null),t.inputStreamNode&&(t.inputStreamNode.disconnect(),t.inputStreamNode=null),t.config.stopTracksAndCloseCtxWhenFinished&&(t.micAudioStream.getTracks().forEach((function(e){return e.stop()})),t.micAudioStream=null,t.audioCtx.close(),t.audioCtx=null),t.em.dispatchEvent(new CustomEvent(\"recording\",{detail:{recording:o}}))}},this._onError=function(e){console.log(\"error\",e),t.em.dispatchEvent(new Event(\"error\"))},window.AudioContext=window.AudioContext||window.webkitAudioContext,this.em=document.createDocumentFragment(),this.state=\"inactive\",this.chunks=[],this.chunkType=\"\",this.encoderMimeType=\"audio/wav\",this.config={broadcastAudioProcessEvents:void 0!==n.broadcastAudioProcessEvents&&n.broadcastAudioProcessEvents,createAnalyserNode:void 0!==n.createAnalyserNode&&n.createAnalyserNode,createDynamicsCompressorNode:void 0!==n.createDynamicsCompressorNode&&n.createDynamicsCompressorNode,forceScriptProcessor:void 0!==n.forceScriptProcessor&&n.forceScriptProcessor,manualEncoderId:void 0!==n.manualEncoderId?n.manualEncoderId:\"wav\",micGain:void 0!==n.micGain?n.micGain:1,processorBufferSize:void 0!==n.processorBufferSize?n.processorBufferSize:2048,stopTracksAndCloseCtxWhenFinished:void 0===n.stopTracksAndCloseCtxWhenFinished||n.stopTracksAndCloseCtxWhenFinished,usingMediaRecorder:void 0!==n.usingMediaRecorder?n.usingMediaRecorder:\"undefined\"!==typeof window.MediaRecorder,enableEchoCancellation:void 0===n.enableEchoCancellation||n.enableEchoCancellation,sampleRate:void 0!==n.sampleRate?n.sampleRate:44100,onRecording:n.onRecording,onAudioPress:n.onAudioPress},n.onRecording&&(this.recordingFn=function(e){return n.onRecording(e)},this.em.addEventListener(\"recording\",this.recordingFn)),n.onAudioProcesss&&(this.onAudioProcessFn=function(e){return n.onAudioProcesss(e)},this.em.addEventListener(\"onaudioprocess\",this.onAudioProcessFn))},R=t(246),k=t(247),S=t(176),E=t(830),N=t.n(E),T=t(168),A=t(159),M=t(158);function B(){var e=Object(A.a)([\"\\n  font-family: 'Source Sans Pro';\\n  text-align: center;\\n  line-height: 25px;\\n  font-size: 18px;\\n  margin-top: 10px;\\n  margin-bottom: 30px;\\n\"]);return B=function(){return e},e}function _(){var e=Object(A.a)([\"\\n  font-family: 'Biko';\\n  font-size: 30px;\\n  line-height: 30px;\\n  margin-bottom: 10px;\\n  font-weight: 600;\\n\"]);return _=function(){return e},e}function U(){var e=Object(A.a)([\"\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n\\n  @media screen and (\",\") {\\n    margin: auto;\\n\"]);return U=function(){return e},e}var F=M.default.div(U(),(function(e){return e.theme.breakpoints.tablet})),P=M.default.div(_()),D=M.default.div(B());N.a.setAppElement(\"#root\");var I=u.a.memo((function(e){var n=e.modalTitle,t=e.children,o=e.onConfirm,a=Object(S.a)(e,[\"modalTitle\",\"children\",\"onConfirm\"]),i=Object(f.a)().t;return Object(r.jsx)(N.a,Object(g.a)(Object(g.a)({},a),{},{style:{content:{height:\"281px\",maxWidth:\"348px\",margin:\"auto\",borderRadius:\"10px\",border:\"none\"},overlay:{backgroundColor:\"rgba(0, 0, 0, 0.5)\"}},children:Object(r.jsxs)(F,{className:\"ModalBody\",children:[Object(r.jsx)(P,{children:n}),Object(r.jsx)(D,{children:t}),Object(r.jsx)(T.a,{onClick:o,dark:!0,children:i(\"recordingsIntroduction:retryButton\",\"Retry\")})]})}))})),L=t.p+\"static/media/start.e0d4d3a6.svg\",z=t(270),G=t(162);function W(){var e=Object(A.a)([\"\\n  visibility: \",\";\\n\"]);return W=function(){return e},e}function V(){var e=Object(A.a)([\"\\n  font-size: 16px;\\n  line-height: 20px;\\n  color: \",\";\\n  font-family: 'Source Sans Pro';\\n  display: flex; \\n  margin-left: 20px;\\n  margin-top:10px;\\n\"]);return V=function(){return e},e}function H(){var e=Object(A.a)([\"\\n  width: 70px;\\n  height: 41px;\\n  font-size: 1.25rem;\\n  color: \",\";\\n  font-weight: bold;\\n  font-family: 'Source Sans Pro';\\n  border: 1px solid \",\";\\n  border-radius: 15px;\\n  display: flex; \\n  align-items: center; \\n  justify-content: center; \\n  margin-bottom: 28px;\\n\\n  @media screen and (\",\") {\\n    font-size: 1.75rem;\\n    margin-top: 22px;\\n  }\\n\"]);return H=function(){return e},e}function K(){var e=Object(A.a)([\"\\n  width: 15px;\\n  height: 15px;\\n\"]);return K=function(){return e},e}function Z(){var e=Object(A.a)([\"\\n  width: 27px;\\n  height: 27px;\\n\"]);return Z=function(){return e},e}function J(){var e=Object(A.a)([\"\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  transition: opacity 0.25s;\\n\"]);return J=function(){return e},e}function Y(){var e=Object(A.a)([\"\\n  background-color: \",\";\\n  width: 56px;\\n  height: 56px;\\n  position: relative;\\n  outline: none !important;\\n  border: none;\\n  border-radius: 50%;\\n  padding: 0;\\n  transition: background-color 0.25s;\\n  opacity: \",\";\\n\\n  @supports not (-webkit-touch-callout: none) {\\n    /* CSS for other than iOS devices */\\n    -webkit-tap-highlight-color: transparent;\\n  }\\n\\n  &:active {\\n    background-color: \",\";\\n  }\\n\\n  &:before {\\n    content: '';\\n    position: absolute;\\n    top: 0;\\n    bottom: 0;\\n    left: 0;\\n    right: 0;\\n    background-color: transparent;\\n    z-index: 1;\\n    border-radius: 50%;\\n  }\\n\\n  @media screen and (\",\") {\\n    width: 66px;\\n    height: 66px;\\n  }\\n\"]);return Y=function(){return e},e}function q(){var e=Object(A.a)([\"\\n  font-size: 14px;\\n  color: \",\";\\n  margin-top: 8px;\\n  margin-bottom: 0px;\\n\"]);return q=function(){return e},e}function Q(){var e=Object(A.a)([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n\"]);return Q=function(){return e},e}function $(){var e=Object(A.a)([\"\\n  display:flex;\\n  justify-content: space-between;\\n  width: 144px;\\n  margin: auto;\\n\"]);return $=function(){return e},e}function X(){var e=Object(A.a)([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: flex-start;\\n\"]);return X=function(){return e},e}var ee=M.default.div(X()),ne=M.default.div($()),te=M.default.div(Q()),re=M.default.p(q(),G.a.lightDarkGray),oe=M.default.button(Y(),G.a.purple,(function(e){return e.disabled||e.opacity?\"0.5\":\"1\"}),G.a.purple,(function(e){return e.theme.breakpoints.tablet})),ae=M.default.img(J()),ie=Object(M.default)(ae)(Z()),ce=Object(M.default)(ae)(K()),se=M.default.div(H(),G.a.purple,G.a.purple,(function(e){return e.theme.breakpoints.tablet})),ue=M.default.div(V(),G.a.red),de=M.default.p(W(),(function(e){return e.show?\"flex\":\"hidden\"})),le={usingMediaRecorder:!1,sampleRate:48e3,manualEncoderId:\"wav\",processorBufferSize:2048},fe=function(e){var n=e.className,t=void 0===n?\"\":n,o=e.maxTimeInSeconds,a=void 0===o?30:o,s=e.onNewRecord,d=e.delay,l=void 0===d?500:d,p=e.recordingFile,m=Object(f.a)().t,h=u.a.useRef(),v=u.a.useRef(0),j=u.a.useRef(),O=u.a.useRef(),y=u.a.useRef(),C=u.a.useState(!0),S=Object(b.a)(C,2),E=S[0],N=S[1],T=u.a.useState(),A=Object(b.a)(T,2),M=A[0],B=A[1],_=u.a.useState(!1),U=Object(b.a)(_,2),F=U[0],P=U[1],D=u.a.useState(!1),G=Object(b.a)(D,2),W=G[0],V=G[1],H=u.a.useState(!1),K=Object(b.a)(H,2),Z=K[0],J=K[1],Y=u.a.useCallback((function(e){v.current+=1;for(var n=e.detail,t=n.inputBuffer,r=n.outputBuffer,o=0;o<r.numberOfChannels;o+=1)for(var a=t.getChannelData(o),i=r.getChannelData(o),c=0;c<t.length;c+=1)i[c]=a[c]}),[]),q=u.a.useCallback(function(){var e=Object(c.a)(i.a.mark((function e(n){var t,r,o,a,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.detail,r=t.recording,e.next=4,fetch(r.blobUrl).then((function(e){return e.blob()}));case 4:o=e.sent,a=\"Filename.\".concat(le.manualEncoderId),c=R.a.blobToFile(o,a),u=R.a.sizeAsHuman(c.size,!0),s(c,u);case 9:case\"end\":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[s]);u.a.useEffect((function(){h.current=new w(Object(g.a)(Object(g.a)({},le),{},{onRecording:q,onAudioProcesss:Y}));var e={audio:{echoCancellation:h.current.config.enableEchoCancellation}};if(navigator.mediaDevices.getUserMedia(e).then((function(){N(!0)})).catch((function(){N(!1)})),p){var n=p;if(n.size){var t=new Audio(URL.createObjectURL(n));t.load();var r=function(){var e=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.removeEventListener(\"loadedmetadata\",r),Object(k.a)(t,!0).then((function(e){var n;null===(n=j.current)||void 0===n||n.setTime(1e3*e)}));case 2:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.addEventListener(\"loadedmetadata\",r)}}return function(){h.current&&h.current.cleanup()}}),[]);var Q=u.a.useCallback((function(){h.current&&(v.current=0,h.current.startRecording().then((function(){var e;(B(!0),V(!1),j.current)&&(j.current.reset(),null===(e=j.current)||void 0===e||e.setTime(0),j.current.start())})).catch((function(e){return console.error(\"ERROR\",e)})))}),[]),$=u.a.useCallback((function(){h.current&&(h.current.stopRecording(),B(!1),j.current&&(j.current.getTime()/1e3<2&&V(!0),j.current.stop()))}),[]),X=u.a.useCallback((function(e){return e<10?\"0\".concat(e):e}),[]),ae=function(e){\"touches\"in e||e.preventDefault()},fe=u.a.useCallback((function(e){e.target&&(e.target.addEventListener(\"touchend\",ae,{passive:!1}),y.current=e.target),O.current=setTimeout((function(){P(!0),J(!0),V(!1)}),l)}),[l]),pe=u.a.useCallback((function(){O.current&&clearTimeout(O.current),Z&&P(!1),J(!1),y.current&&y.current.removeEventListener(\"touchend\",ae)}),[Z]);return Object(r.jsxs)(ee,{className:t,children:[Object(r.jsxs)(ue,{children:[!W&&Object(r.jsx)(de,{show:F,children:m(M?\"recordingsIntroduction:releaseButtonStop\":\"recordingsIntroduction:releaseButtonStart\")}),Object(r.jsx)(I,{isOpen:W,modalTitle:\"Oops.\",onConfirm:Q,children:m(\"recordingsIntroduction:shortRecording\")})]}),Object(r.jsx)(se,{children:Object(r.jsxs)(x.a,{ref:j,startImmediately:!1,checkpoints:[{time:1e3*a,callback:$}],children:[Object(r.jsx)(x.a.Minutes,{}),\":\",Object(r.jsx)(x.a.Seconds,{formatValue:X})]})}),Object(r.jsxs)(ne,{children:[Object(r.jsxs)(te,{children:[Object(r.jsx)(oe,{disabled:!E||M,onClick:Q,onMouseDown:fe,onMouseUp:pe,onTouchStart:fe,onTouchEnd:pe,onMouseLeave:pe,children:Object(r.jsx)(ie,{src:L,alt:\"Start\"})}),Object(r.jsx)(re,{children:m(\"recordingsIntroduction:recordCough.record\")})]}),Object(r.jsxs)(te,{children:[Object(r.jsx)(oe,{disabled:!E||!M,onClick:$,onMouseDown:fe,onMouseUp:pe,onTouchStart:fe,onTouchEnd:pe,onMouseLeave:pe,children:Object(r.jsx)(ce,{src:z.a,alt:\"Stop\"})}),Object(r.jsx)(re,{children:m(\"recordingsIntroduction:recordCough.stop\")})]})]})]})},pe=u.a.memo(fe),me=t(170),he=t.p+\"static/media/upload.21eec1c7.svg\",ge=t(271),be=h.b({recordingFile:h.a().required(\"ERROR.FILE_REQUIRED\").test(\"fileSize\",\"ERROR.FILE_SIZE\",(function(e){return e?e.size<=5*Math.pow(1024,3):!!e})).test(\"fileDuration\",\"ERROR.FILE_DURATION\",function(){var e=Object(c.a)(i.a.mark((function e(n){var t,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=10;break}return t=n,(r=new Audio(URL.createObjectURL(t))).load(),e.next=6,new Promise((function(e){return r.addEventListener(\"loadedmetadata\",e)}));case 6:return e.next=8,new Promise((function(e){r.duration!==1/0&&e(r.duration),r.addEventListener(\"durationchange\",(function(){r.remove(),e(r.duration)})),r.volume=0,r.currentTime=86400,r.play()}));case 8:return o=e.sent,e.abrupt(\"return\",o>=2);case 10:return e.abrupt(\"return\",!!n);case 11:case\"end\":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}).defined(),ve=function(e){var n=e.onNext,t=e.onManualUpload,a=e.defaultValues,i=e.currentLogic,c=e.action,s=l()({bindTo:document&&document.getElementById(\"wizard-buttons\")}).Portal,d=Object(p.c)({mode:\"onChange\",defaultValues:a,resolver:Object(m.yupResolver)(be)}),h=d.handleSubmit,g=d.control,b=d.getValues,v=d.formState,x=Object(f.a)().t,j=v.isValid,O=u.a.useRef(1);return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(ge.MainContainer,{children:[Object(r.jsx)(ge.MicContainer,{children:Object(r.jsx)(p.a,{control:g,name:\"recordingFile\",render:function(e){var n=e.onChange;return Object(r.jsx)(pe,{onNewRecord:n,recordingFile:null===a||void 0===a?void 0:a.recordingFile},O.current)}})}),Object(r.jsxs)(s,{children:[Object(r.jsx)(me.a,{invert:!0,leftLabel:x(\"recordingsRecord:next\"),leftDisabled:!j,leftHandler:h(n)}),Object(r.jsxs)(ge.UploadContainer,{onClick:function(){c(Object(o.a)({},i,{recordingFile:b(\"recordingFile\")||null,uploadedFile:null})),null===t||void 0===t||t()},children:[Object(r.jsx)(ge.UploadImage,{src:he}),Object(r.jsx)(ge.UploadText,{children:x(\"recordingsRecord:upload\")})]})]})]})})};n.default=u.a.memo(ve)},246:function(e,n,t){\"use strict\";n.a={sizeAsHuman:function(e,n){var t=n?1e3:1024;if(Math.abs(e)<t)return\"\".concat(e,\" B\");var r=n?[\"kB\",\"MB\",\"GB\",\"TB\",\"PB\",\"EB\",\"ZB\",\"YB\"]:[\"KiB\",\"MiB\",\"GiB\",\"TiB\",\"PiB\",\"EiB\",\"ZiB\",\"YiB\"],o=-1;do{e/=t,++o}while(Math.abs(e)>=t&&o<r.length-1);return\"\".concat(e.toFixed(1),\" \").concat(r[o])},blobToFile:function(e,n){var t=e;return t.lastModifiedDate=new Date,t.name=n,e}}},247:function(e,n,t){\"use strict\";t.d(n,\"a\",(function(){return o}));var r=t(326);function o(e,n){return new Promise((function(t){e.duration===1/0||r.isSafari&&!(r.isSafari&&e.duration>0)?(e.addEventListener(\"durationchange\",(function(){n?e.remove():(e.pause(),e.volume=1,e.currentTime=0),t(e.duration)})),e.currentTime=86400,e.play()):t(e.duration)}))}},270:function(e,n,t){\"use strict\";n.a=t.p+\"static/media/stop.e6f44abd.svg\"},271:function(e,n,t){\"use strict\";t.r(n),t.d(n,\"MainContainer\",(function(){return h})),t.d(n,\"Text\",(function(){return g})),t.d(n,\"MicContainer\",(function(){return b})),t.d(n,\"UploadContainer\",(function(){return v})),t.d(n,\"UploadImage\",(function(){return x})),t.d(n,\"UploadText\",(function(){return j})),t.d(n,\"StopImg\",(function(){return O}));var r=t(159),o=t(158),a=t(173),i=t(162),c=t(270);function s(){var e=Object(r.a)([\"\\n  display: inline;\\n  height: 10px;\\n  margin: 0px 2px 4px;\\n\"]);return s=function(){return e},e}function u(){var e=Object(r.a)([\"\\n  cursor: pointer;\\n  font-family: Source Sans Pro;\\n  font-weight: bold;\\n  font-size: 0.75rem;\\n  line-height: 24px;\\n  color: \",\";\\n\"]);return u=function(){return e},e}function d(){var e=Object(r.a)([\"\\n  cursor: pointer;\\n  width: 13px;\\n  height: 12px;\\n  margin-right: 7px;\\n\"]);return d=function(){return e},e}function l(){var e=Object(r.a)([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  padding: 0px 20px;\\n  margin: 20px auto;\\n  width: fit-content;\\n\\n\\n  @media screen and (\",\"){\\n    padding: 0px 22px;\\n    margin: 22px auto;\\n  }\\n\"]);return l=function(){return e},e}function f(){var e=Object(r.a)([\"\"]);return f=function(){return e},e}function p(){var e=Object(r.a)([\"\\n  color: \",\";\\n  margin-bottom: 2px;\\n  text-align: left;\\n\\n  @media screen and (\",\"){\\n    max-width: 470px;\\n    margin: 0 auto;\\n    font-size: 16px;\\n  }\\n\\n  @media screen and (\",\"){\\n    @media (orientation: portrait) {\\n      margin-bottom: 248px;\\n    }\\n\\n    @media (orientation: landscape) {\\n      margin-bottom: 24px;\\n    }\\n  }\\n\"]);return p=function(){return e},e}function m(){var e=Object(r.a)([\"\\n  padding: 0px 0px;\\n\"]);return m=function(){return e},e}var h=o.default.div(m()),g=Object(o.default)(a.b)(p(),(function(e){return e.theme.colors.darkBlack}),(function(e){return e.theme.breakpoints.tablet}),(function(e){return e.theme.breakpoints.tablet})),b=o.default.div(f()),v=o.default.div(l(),(function(e){return e.theme.breakpoints.tablet})),x=o.default.img(d()),j=o.default.div(u(),i.a.darkBlack),O=o.default.img.attrs((function(){return{src:c.a}}))(s())}}]);","name":"static/js/4.020afa97.chunk.js","input":"(this[\"webpackJsonppwa-demo\"] = this[\"webpackJsonppwa-demo\"] || []).push([[4,30],{\n\n/***/ 168:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* reexport */ Button_Button; });\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(161);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(37);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(176);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(6);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(159);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(158);\n\n// EXTERNAL MODULE: ./src/theme/index.ts\nvar theme = __webpack_require__(162);\n\n// CONCATENATED MODULE: ./src/components/Button/style.ts\nfunction _templateObject(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  height: 52px;\\n  border-radius: 15px; \\n  font-family: 'Source Sans Pro'; /* It could be removed if default on body changes */\\n  font-weight: bold;\\n  font-size: 14px;\\n  font-weight: bold;\\n  width: 100%;\\n\\n  \",\"\\n\"]);_templateObject=function _templateObject(){return data;};return data;}var StyledButton=styled_components_browser_esm[\"default\"].button(_templateObject(),function(_ref){var dark=_ref.dark,disabled=_ref.disabled;var color=disabled?theme[\"a\" /* colors */].purple_50:theme[\"a\" /* colors */].purple;return dark?\"\\n    background-color: \".concat(color,\";\\n    color: \").concat(theme[\"a\" /* colors */].white,\";\\n    border: none;\\n  \"):\"\\n    background-color: \".concat(theme[\"a\" /* colors */].white,\";\\n    color: \").concat(color,\";\\n    border: 1px solid \").concat(color,\";\\n  \");});\n// CONCATENATED MODULE: ./src/components/Button/Button.tsx\n// Styles\nvar Button=/*#__PURE__*/react_default.a.memo(function(_ref){var children=_ref.children,props=Object(objectWithoutProperties[\"a\" /* default */])(_ref,[\"children\"]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StyledButton,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({type:\"button\"},props),{},{children:children}));});/* harmony default export */ var Button_Button = (Button);\n// CONCATENATED MODULE: ./src/components/Button/index.ts\n\n\n/***/ }),\n\n/***/ 170:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* reexport */ WizardButtons_WizardButtons; });\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(37);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(6);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./src/components/Button/index.ts + 2 modules\nvar Button = __webpack_require__(168);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(159);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(158);\n\n// CONCATENATED MODULE: ./src/components/WizardButtons/style.ts\nfunction _templateObject(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  max-width: \",\";\\n  margin: 0 auto;\\n\\n  button {\\n    flex: 1;\\n\\n    &:first-of-type {\\n      margin-left: 0px !important;\\n    }\\n\\n    &:last-of-type {\\n      margin-left: 20px;\\n    }\\n  }\\n\\n  @media screen and (\",\"){\\n    max-width: 470px;\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}var WizardButtonsContainer=styled_components_browser_esm[\"default\"].div(_templateObject(),function(props){return\"calc(100% - \".concat(props.theme.layout.generalPaddingAmount*2,\"px)\");},function(props){return props.theme.breakpoints.tablet;});\n// CONCATENATED MODULE: ./src/components/WizardButtons/WizardButtons.tsx\n/* eslint-disable react/require-default-props */// Components\n// Styles\nvar WizardButtons=/*#__PURE__*/react_default.a.memo(function(_ref){var _ref$invert=_ref.invert,invert=_ref$invert===void 0?false:_ref$invert,leftLabel=_ref.leftLabel,leftDisabled=_ref.leftDisabled,leftHandler=_ref.leftHandler,rightLabel=_ref.rightLabel,rightDisabled=_ref.rightDisabled,rightHandler=_ref.rightHandler;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WizardButtonsContainer,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{dark:invert,disabled:leftDisabled,onClick:leftHandler,children:leftLabel}),rightLabel&&rightHandler&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{dark:!invert,disabled:rightDisabled,onClick:rightHandler,children:rightLabel})]});});/* harmony default export */ var WizardButtons_WizardButtons = (/*#__PURE__*/react_default.a.memo(WizardButtons));\n// CONCATENATED MODULE: ./src/components/WizardButtons/index.tsx\n\n\n/***/ }),\n\n/***/ 173:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"b\", function() { return /* reexport */ BlackText; });\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* reexport */ BaseTitle; });\n\n// UNUSED EXPORTS: BaseText\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(159);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(158);\n\n// EXTERNAL MODULE: ./src/theme/index.ts\nvar theme = __webpack_require__(162);\n\n// CONCATENATED MODULE: ./src/components/Texts/Texts.ts\nfunction _templateObject3(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  font-family: 'Open Sans';\\n  font-weight: 700;\\n  font-size: 24px;\\n  line-height: 1;\\n  color: \",\";\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  \",\"\\n  color: \",\";\\n  \",\"\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  font-family: 'Source Sans Pro';\\n  font-size: 0.875rem;\\n  line-height: 20px;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}var BaseText=Object(styled_components_browser_esm[\"css\"])(_templateObject());var BlackText=styled_components_browser_esm[\"default\"].div(_templateObject2(),BaseText,function(_ref){var dark=_ref.dark;return dark?theme[\"a\" /* colors */].darkBlack:theme[\"a\" /* colors */].black;},function(props){return props.fontSize?\"font-size: \".concat(props.fontSize,\";\"):'';});var BaseTitle=styled_components_browser_esm[\"default\"].div(_templateObject3(),theme[\"a\" /* colors */].darkBlack);\n// CONCATENATED MODULE: ./src/components/Texts/index.ts\n\n\n/***/ }),\n\n/***/ 209:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(37);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(167);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(177);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(178);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(6);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-useportal/dist/usePortal.js\nvar usePortal = __webpack_require__(179);\nvar usePortal_default = /*#__PURE__*/__webpack_require__.n(usePortal);\n\n// EXTERNAL MODULE: ./node_modules/react-i18next/dist/es/useTranslation.js\nvar useTranslation = __webpack_require__(844);\n\n// EXTERNAL MODULE: ./node_modules/react-hook-form/dist/index.esm.js\nvar index_esm = __webpack_require__(217);\n\n// EXTERNAL MODULE: ./node_modules/@hookform/resolvers/yup.js\nvar yup = __webpack_require__(226);\n\n// EXTERNAL MODULE: ./node_modules/yup/es/index.js + 31 modules\nvar es = __webpack_require__(229);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(161);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(165);\n\n// EXTERNAL MODULE: ./node_modules/react-compound-timer/build/index.js\nvar build = __webpack_require__(823);\nvar build_default = /*#__PURE__*/__webpack_require__.n(build);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(180);\n\n// CONCATENATED MODULE: ./src/helper/audio/encoder-wav-worker.js\n/* eslint-disable func-names *//* harmony default export */ var encoder_wav_worker = (function(){var _this=this;// Parts copied from https://github.com/chris-rudmin/Recorderjs\nvar BYTES_PER_SAMPLE=2;var CHANNELS=1;// 1=mono , 2=Stereo\nvar recorded=[];function encode(buffer){var length=buffer.length;var data=new Uint8Array(length*BYTES_PER_SAMPLE*CHANNELS);for(var i=0;i<length;i+=1){var index=i*BYTES_PER_SAMPLE*CHANNELS;var sample=buffer[i];if(sample>1){sample=1;}else if(sample<-1){sample=-1;}sample*=32768;data[index]=sample;// eslint-disable-next-line no-bitwise\ndata[index+1]=sample>>8;}recorded.push(data);}function dump(sampleRate){var bufferLength=recorded.length?recorded[0].length:0;var length=recorded.length*bufferLength;var wav=new Uint8Array(44+length);var view=new DataView(wav.buffer);// RIFF identifier 'RIFF'\nview.setUint32(0,1380533830,false);// file length minus RIFF identifier length and file description length\nview.setUint32(4,36+length,true);// RIFF type 'WAVE'\nview.setUint32(8,1463899717,false);// format chunk identifier 'fmt '\nview.setUint32(12,1718449184,false);// format chunk length\nview.setUint32(16,16,true);// sample format (raw)\nview.setUint16(20,1,true);// channel count\nview.setUint16(22,CHANNELS,true);// sample rate\nview.setUint32(24,sampleRate,true);// 44100 Khz\n// byte rate (channels * sample rate * block align)\nview.setUint32(28,CHANNELS*sampleRate*BYTES_PER_SAMPLE,true);// kbps = 1411\n// block align (channel count * bytes per sample)\nview.setUint16(32,CHANNELS*BYTES_PER_SAMPLE,true);// bits per sample\nview.setUint16(34,8*BYTES_PER_SAMPLE,true);// 16\n// data chunk identifier 'data'\nview.setUint32(36,1684108385,false);// data chunk length\nview.setUint32(40,length,true);for(var i=0;i<recorded.length;i+=1){wav.set(recorded[i],i*bufferLength+44);}recorded=[];var msg=[wav.buffer];postMessage(msg,[msg[0]]);}this.onmessage=function(e){if(e.data[0]==='encode'){encode(e.data[1]);}else if(e.data[0]==='dump'){dump(e.data[1]);}else if(e.data[0]==='close'){_this.close();}};});\n// CONCATENATED MODULE: ./src/helper/audio/encoder-mp3-worker.js\n/* eslint-disable func-names */ // import 'babel-polyfill'\n// import lamejs from 'lamejs';\n/* harmony default export */ var encoder_mp3_worker = (function(){// Note that relative paths don't work when loaded as a blob\n// https://stackoverflow.com/questions/22172426/using-importsscripts-within-blob-in-a-karma-environment\n// importScripts('https://localhost:8443/workers/encoders/lame.js') // eslint-disable-line\nvar channels=1;// 1 for mono or 2 for stereo\n// let sampleRate = 44100 // 44.1khz (normal mp3 samplerate)\nvar kbps=128;// encode 128kbps mp3\nvar mp3encoder=null;var maxSamples=1152;var mp3Data=[];// array of Uint8Array\nfunction init(opts){/* global lamejs */importScripts(opts.baseUrl+'/workers/encoders/lame.min.js');// eslint-disable-line\nmp3encoder=new lamejs.Mp3Encoder(channels,opts.sampleRate,kbps);}function floatTo16BitPCM(input,output){for(var i=0;i<input.length;i+=1){var s=Math.max(-1,Math.min(1,input[i]));// eslint-disable-next-line no-param-reassign\noutput[i]=s<0?s*0x8000:s*0x7FFF;}}function convertBuffer(arrayBuffer){var data=new Float32Array(arrayBuffer);var out=new Int16Array(arrayBuffer.length);floatTo16BitPCM(data,out);return out;}function encode(arrayBuffer){var samplesMono=convertBuffer(arrayBuffer);var remaining=samplesMono.length;for(var i=0;remaining>=0;i+=maxSamples){var left=samplesMono.subarray(i,i+maxSamples);var data=mp3encoder.encodeBuffer(left);mp3Data.push(data);remaining-=maxSamples;}// var mp3buf = mp3encoder.encodeBuffer(buffer)\n// if (mp3buf.length > 0) {\n//   mp3Data.push(mp3buf)\n// }\n}function dump(){var mp3buf=mp3encoder.flush();if(mp3buf.length>0){mp3Data.push(mp3buf);}// Probably results in native memory copy\npostMessage(mp3Data);// Would like to do this, but not possible because mp3Data is generic array of Uint8Array, and generic\n// arrays are not transferrable types.\n// postMessage(mp3Data, [mp3Data])\n// This might help if/when ever become available again\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer/transfer\n// For now, though, we have not other option except to build a complete copy in javascript. This means\n// we temporarily require twice the memory of whatever was recorded.\nmp3Data=[];}onmessage=function onmessage(e){if(e.data[0]==='encode'){encode(e.data[1]);}else if(e.data[0]==='dump'){dump(e.data[1]);}else if(e.data[0]==='init'){init(e.data[1]);}else if(e.data[0]==='close'){this.close();}};});\n// CONCATENATED MODULE: ./src/helper/audio/encoder-flac-worker.js\n/* eslint-disable */ /* eslint-disable func-names */ /* global Flac *//* harmony default export */ var encoder_flac_worker = (function(){var workersHost= false||Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":undefined,\"WDS_SOCKET_PATH\":undefined,\"WDS_SOCKET_PORT\":undefined,\"FAST_REFRESH\":true}).REACT_APP_WORKERS_HOST||'https://virufy.org/demo';importScripts(\"\".concat(workersHost,\"/workers/encoders/libflac.dev.js\"));// eslint-disable-line\nvar flacEncoder;var CHANNELS=1;var SAMPLERATE=44100;var COMPRESSION=5;var BPS=16;var flacOk=1;var flacLength=0;var flacBuffers=[];var INIT=false;var wavBuffers=[];// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction writeCallbackFn(buffer,bytes){flacBuffers.push(buffer);flacLength+=buffer.byteLength;}// HELPER: handle initialization of flac encoder\nfunction initFlac(){flacEncoder=Flac.init_libflac_encoder(SAMPLERATE,CHANNELS,BPS,COMPRESSION,0);/// /\nif(flacEncoder!==0){var statusEncoder=Flac.init_encoder_stream(flacEncoder,writeCallbackFn);flacOk&=statusEncoder==0;console.log(\"flac init     : \".concat(flacOk));// DEBUG\nconsole.log(\"status encoder: \".concat(statusEncoder));// DEBUG\nINIT=true;}else{console.error('Error initializing the encoder.');}}function init(config){var finalConfig=config;if(!finalConfig){finalConfig={bps:BPS,channels:CHANNELS,samplerate:SAMPLERATE,compression:COMPRESSION};}finalConfig.channels=finalConfig.channels?finalConfig.channels:CHANNELS;finalConfig.samplerate=finalConfig.samplerate?finalConfig.samplerate:SAMPLERATE;finalConfig.bps=finalConfig.bps?finalConfig.bps:BPS;finalConfig.compression=finalConfig.compression?finalConfig.compression:COMPRESSION;/// /\nCOMPRESSION=finalConfig.compression;BPS=finalConfig.bps;SAMPLERATE=finalConfig.samplerate;CHANNELS=finalConfig.channels;/// /\nif(!Flac.isReady()){Flac.onready=function(){setTimeout(function(){initFlac();},0);};}else{initFlac();}}// HELPER: actually encode PCM data to Flac\nfunction doEncodeFlac(audioData){var bufLength=audioData.length;var bufferI32=new Uint32Array(bufLength);var view=new DataView(bufferI32.buffer);var volume=1;var index=0;for(var i=0;i<bufLength;i+=1){view.setInt32(index,audioData[i]*(0x7FFF*volume),true);index+=4;}var flacReturn=Flac.FLAC__stream_encoder_process_interleaved(flacEncoder,bufferI32,bufferI32.length/CHANNELS);if(flacReturn!=true){console.log(\"Error: encode_buffer_pcm_as_flac returned false. \".concat(flacReturn));}}// HELPER: handle incoming PCM audio data for Flac encoding:\nfunction encodeFlac(audioData){if(!Flac.isReady()){// if Flac is not ready yet: buffer the audio\nwavBuffers.push(audioData);console.info('buffered audio data for Flac encdoing');}else{if(wavBuffers.length>0){// if there is buffered audio: encode buffered first (and clear buffer)\nvar len=wavBuffers.length;var buffered=wavBuffers.splice(0,len);// eslint-disable-next-line no-plusplus\nfor(var i=0;i<len;++i){doEncodeFlac(buffered[i]);}}doEncodeFlac(audioData);}}function mergeBuffersUint8(channelBuffer,recordingLength){var result=new Uint8Array(recordingLength);var offset=0;var lng=channelBuffer.length;for(var i=0;i<lng;i+=1){var buffer=channelBuffer[i];result.set(buffer,offset);offset+=buffer.length;}return result;}function exportFlacFile(recBuffers,recLength){// convert buffers into one single buffer\nvar samples=mergeBuffersUint8(recBuffers,recLength);// var audioBlob = new Blob([samples], { type: type });\nvar theBlob=new Blob([samples],{type:'audio/flac'});return theBlob;}/*\n   * clear recording buffers\n   */function clear(){flacBuffers.splice(0,flacBuffers.length);flacLength=0;wavBuffers.splice(0,wavBuffers.length);}this.onmessage=function onmessage(e){if(e.data[0]==='init'){init(e.data[1]);}else if(e.data[0]==='encode'){encodeFlac(e.data[1]);}else if(e.data[0]==='dump'){var data;if(!Flac.isReady()){console.error('Flac was not initialized: could not encode data!');}else{flacOk&=Flac.FLAC__stream_encoder_finish(flacEncoder);console.log(\"flac finish: \".concat(flacOk));// DEBUG\ndata=exportFlacFile(flacBuffers,flacLength);Flac.FLAC__stream_encoder_delete(flacEncoder);}clear();postMessage(data);INIT=false;}};});\n// CONCATENATED MODULE: ./src/helper/audio/RecorderService.js\n/* eslint-disable max-len */ /* eslint-disable consistent-return */ /* eslint-disable no-underscore-dangle */ // Vendor Library https://github.com/mogwai/pwa-audio-recorder/tree/master\n// import EncoderOgg from './encoder-ogg-worker';\nvar RecorderService_RecorderService=function RecorderService(config){var _this=this;Object(classCallCheck[\"a\" /* default */])(this,RecorderService);this.cleanup=function(){if(_this.config.onRecording){_this.em.removeEventListener('recording',_this.recordingFn);}if(_this.config.onAudioProcesss){_this.em.removeEventListener('onaudioprocess',_this.onAudioProcessFn);}};this.createWorker=function(fn){var js=fn.toString().replace(/^function\\s*\\(\\)\\s*{/,'').replace(/}$/,'');var blob=new Blob([js]);return new Worker(URL.createObjectURL(blob));};this.startRecording=function(timeslice){if(_this.state!=='inactive'){return;}// This is the case on ios/chrome, when clicking links from within ios/slack (sometimes), etc.\nif(!navigator||!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){// alert('Missing support for navigator.mediaDevices.getUserMedia'); // temp: helps when testing for strange issues on ios/safari\nreturn;}_this.audioCtx=new AudioContext({sampleRate:_this.config.sampleRate});_this.micGainNode=_this.audioCtx.createGain();_this.outputGainNode=_this.audioCtx.createGain();if(_this.config.createDynamicsCompressorNode){_this.dynamicsCompressorNode=_this.audioCtx.createDynamicsCompressor();}if(_this.config.createAnalyserNode){_this.analyserNode=_this.audioCtx.createAnalyser();}// If not using MediaRecorder(i.e. safari and edge), then a script processor is required. It's optional\n// on browsers using MediaRecorder and is only useful if wanting to do custom analysis or manipulation of\n// recorded audio data.\nif(_this.config.forceScriptProcessor||_this.config.broadcastAudioProcessEvents||!_this.config.usingMediaRecorder){_this.processorNode=_this.audioCtx.createScriptProcessor(_this.config.processorBufferSize,1,1);// TODO: Get the number of channels from mic\n}// Create stream destination on chrome/firefox because, AFAICT, we have no other way of feeding audio graph output\n// in to MediaRecorderSafari/Edge don't have this method as of 2018-04.\nif(_this.audioCtx.createMediaStreamDestination){_this.destinationNode=_this.audioCtx.createMediaStreamDestination();}else{_this.destinationNode=_this.audioCtx.destination;}// Create web worker for doing the encoding\nif(!_this.config.usingMediaRecorder){if(_this.config.manualEncoderId==='mp3'){_this.encoderWorker=_this.createWorker(encoder_mp3_worker);var baseUrl= false||'https://virufy.org/demo';_this.encoderWorker.postMessage(['init',{baseUrl:baseUrl,sampleRate:_this.audioCtx.sampleRate}]);_this.encoderMimeType='audio/mpeg';}else if(_this.config.manualEncoderId==='flac'){_this.encoderWorker=_this.createWorker(encoder_flac_worker);_this.encoderWorker.postMessage(['init',{sampleRate:_this.audioCtx.sampleRate}]);_this.encoderMimeType='audio/flac';}else{_this.encoderWorker=_this.createWorker(encoder_wav_worker);_this.encoderMimeType='audio/wav';}_this.encoderWorker.addEventListener('message',function(e){var event=new Event('dataavailable');if(_this.config.manualEncoderId==='ogg'||_this.config.manualEncoderId==='flac'){event.data=e.data;}else{event.data=new Blob(e.data,{type:_this.encoderMimeType});}_this._onDataAvailable(event);});}// Setup media constraints\nvar userMediaConstraints={audio:{echoCancellation:_this.config.enableEchoCancellation}};if(_this.config.deviceId){userMediaConstraints.audio.deviceId=_this.config.deviceId;}// This will prompt user for permission if needed\nreturn navigator.mediaDevices.getUserMedia(userMediaConstraints).then(function(stream){_this._startRecordingWithStream(stream,timeslice);}).catch(function(error){// alert(`Error with getUserMedia: ${error.message}`); // temp: helps when testing for strange issues on ios/safari\nconsole.log(error);});};this.setMicGain=function(newGain){_this.config.micGain=newGain;if(_this.audioCtx&&_this.micGainNode){_this.micGainNode.gain.setValueAtTime(newGain,_this.audioCtx.currentTime);}};this._startRecordingWithStream=function(stream,timeslice){_this.micAudioStream=stream;_this.inputStreamNode=_this.audioCtx.createMediaStreamSource(_this.micAudioStream);_this.audioCtx=_this.inputStreamNode.context;// Kind-of a hack to allow hooking in to audioGraph inputStreamNode\nif(_this.onGraphSetupWithInputStream){_this.onGraphSetupWithInputStream(_this.inputStreamNode);}_this.inputStreamNode.connect(_this.micGainNode);_this.micGainNode.gain.setValueAtTime(_this.config.micGain,_this.audioCtx.currentTime);var nextNode=_this.micGainNode;if(_this.dynamicsCompressorNode){_this.micGainNode.connect(_this.dynamicsCompressorNode);nextNode=_this.dynamicsCompressorNode;}_this.state='recording';if(_this.processorNode){nextNode.connect(_this.processorNode);_this.processorNode.connect(_this.outputGainNode);_this.processorNode.onaudioprocess=function(e){return _this._onAudioProcess(e);};}else{nextNode.connect(_this.outputGainNode);}if(_this.analyserNode){// TODO: If we want the analyser node to receive the processorNode's output, this needs to be changed _and_\n//       processor node needs to be modified to copy input to output. It currently doesn't because it's not\n//       needed when doing manual encoding.\n// this.processorNode.connect(this.analyserNode)\nnextNode.connect(_this.analyserNode);}_this.outputGainNode.connect(_this.destinationNode);if(_this.config.usingMediaRecorder){_this.mediaRecorder=new MediaRecorder(_this.destinationNode.stream,{mimeType:_this.encoderMimeType||'audio/wav'});_this.mediaRecorder.addEventListener('dataavailable',function(evt){return _this._onDataAvailable(evt);});_this.mediaRecorder.addEventListener('error',function(evt){return _this._onError(evt);});_this.mediaRecorder.start(timeslice);}else{// Output gain to zero to prevent feedback. Seems to matter only on Edge, though seems like should matter\n// on iOS too.  Matters on chrome when connecting graph to directly to audioCtx.destination, but we are\n// not able to do that when using MediaRecorder.\n_this.outputGainNode.gain.setValueAtTime(0,_this.audioCtx.currentTime);// this.outputGainNode.gain.value = 0\n// Todo: Note that time slicing with manual wav encoderWav won't work. To allow it would require rewriting the encoderWav\n// to assemble all chunks at end instead of adding header to each chunk.\nif(timeslice){console.log('Time slicing without MediaRecorder is not yet supported. The resulting recording will not be playable.');_this.slicing=setInterval(function anon(){if(this.state==='recording'){this.encoderWorker.postMessage(['dump',this.context.sampleRate]);}},timeslice);}}};this._onAudioProcess=function(e){// console.log('onaudioprocess', e)\n// let inputBuffer = e.inputBuffer\n// let outputBuffer = e.outputBuffer\n// console.log(this.micAudioStream)\n// console.log(this.audioCtx)\n// console.log(this.micAudioStream.getTracks().forEach((track) => console.log(track)))\n// this.onAudioEm.dispatch(new Event('onaudioprocess', {inputBuffer:inputBuffer,outputBuffer:outputBuffer}))\nif(_this.config.broadcastAudioProcessEvents){_this.em.dispatchEvent(new CustomEvent('onaudioprocess',{detail:{inputBuffer:e.inputBuffer,outputBuffer:e.outputBuffer}}));}// // Example handling:\n// let inputBuffer = e.inputBuffer\n// let outputBuffer = e.outputBuffer\n// // Each channel (usually only one)\n// for (let channel = 0; channel < outputBuffer.numberOfChannels; channel++) {\n//   let inputData = inputBuffer.getChannelData(channel)\n//   let outputData = outputBuffer.getChannelData(channel)\n//\n//   // Each sample\n//   for (let sample = 0; sample < inputBuffer.length; sample++) {\n//     // Make output equal to the same as the input (thus processor is doing nothing at this time)\n//     outputData[sample] = inputData[sample]\n//   }\n// }\n// When manually encoding (safari/edge), there's no reason to copy data to output buffer.  We set the output\n// gain to 0 anyways (which is required on Edge if we did copy data to output). However, if using a MediaRecorder\n// and a processor (all other browsers), then it would be required to copy the data otherwise the graph would\n// generate no data for the MediaRecorder to consume.\n// if (this.forceScriptProcessor) {\n// // Copy input to output\n// let inputBuffer = e.inputBuffer\n// let outputBuffer = e.outputBuffer\n// // This doesn't work on iOS/Safari. Guessing it doesn't have copyToChannel support, but haven't verified.\n// for (let channel = 0; channel < outputBuffer.numberOfChannels; channel++) {\n//   outputBuffer.copyToChannel(inputBuffer.getChannelData(channel), channel)\n// }\n// Safari and Edge require manual encoding via web worker. Single channel only for now.\n// Example stereo encoderWav: https://github.com/MicrosoftEdge/Demos/blob/master/microphone/scripts/recorderworker.js\nif(!_this.config.usingMediaRecorder){if(_this.state==='recording'){if(_this.config.broadcastAudioProcessEvents){_this.encoderWorker.postMessage(['encode',e.outputBuffer.getChannelData(0)]);}else{_this.encoderWorker.postMessage(['encode',e.inputBuffer.getChannelData(0)]);}}}};this.stopRecording=function(){if(_this.state==='inactive'){return;}if(_this.config.usingMediaRecorder){_this.state='inactive';_this.mediaRecorder.stop();}else{_this.state='inactive';_this.encoderWorker.postMessage(['dump',_this.audioCtx.sampleRate]);clearInterval(_this.slicing);// TODO: There should be a more robust way to handle this\n// Without something like this, I think  the last recorded sample could be lost due to timing\n// setTimeout(() => {\n//   this.state = 'inactive'\n//   this.encoderWorker.postMessage(['dump', this.audioCtx.sampleRate])\n// }, 100)\n}};this._onDataAvailable=function(evt){// console.log('state', this.mediaRecorder.state)\n// console.log('evt.data', evt.data)\n_this.chunks.push(evt.data);_this.chunkType=evt.data.type;if(_this.state!=='inactive'){return;}var blob=new Blob(_this.chunks,{type:_this.chunkType});var blobUrl=URL.createObjectURL(blob);var recording={ts:new Date().getTime(),blobUrl:blobUrl,mimeType:blob.type,size:blob.size};_this.chunks=[];_this.chunkType=null;if(_this.destinationNode){_this.destinationNode.disconnect();_this.destinationNode=null;}if(_this.outputGainNode){_this.outputGainNode.disconnect();_this.outputGainNode=null;}if(_this.analyserNode){_this.analyserNode.disconnect();_this.analyserNode=null;}if(_this.processorNode){_this.processorNode.disconnect();_this.processorNode=null;}if(_this.encoderWorker){_this.encoderWorker.postMessage(['close']);_this.encoderWorker=null;}if(_this.dynamicsCompressorNode){_this.dynamicsCompressorNode.disconnect();_this.dynamicsCompressorNode=null;}if(_this.micGainNode){_this.micGainNode.disconnect();_this.micGainNode=null;}if(_this.inputStreamNode){_this.inputStreamNode.disconnect();_this.inputStreamNode=null;}if(_this.config.stopTracksAndCloseCtxWhenFinished){// This removes the red bar in iOS/Safari\n_this.micAudioStream.getTracks().forEach(function(track){return track.stop();});_this.micAudioStream=null;_this.audioCtx.close();_this.audioCtx=null;}_this.em.dispatchEvent(new CustomEvent('recording',{detail:{recording:recording}}));};this._onError=function(evt){console.log('error',evt);_this.em.dispatchEvent(new Event('error'));// alert(`error:${evt}`); // for debugging purposes\n};window.AudioContext=window.AudioContext||window.webkitAudioContext;this.em=document.createDocumentFragment();this.state='inactive';this.chunks=[];this.chunkType='';this.encoderMimeType='audio/wav';this.config={broadcastAudioProcessEvents:config.broadcastAudioProcessEvents!==undefined?config.broadcastAudioProcessEvents:false,createAnalyserNode:config.createAnalyserNode!==undefined?config.createAnalyserNode:false,createDynamicsCompressorNode:config.createDynamicsCompressorNode!==undefined?config.createDynamicsCompressorNode:false,forceScriptProcessor:config.forceScriptProcessor!==undefined?config.forceScriptProcessor:false,manualEncoderId:config.manualEncoderId!==undefined?config.manualEncoderId:'wav',micGain:config.micGain!==undefined?config.micGain:1.0,processorBufferSize:config.processorBufferSize!==undefined?config.processorBufferSize:2048,stopTracksAndCloseCtxWhenFinished:config.stopTracksAndCloseCtxWhenFinished!==undefined?config.stopTracksAndCloseCtxWhenFinished:true,usingMediaRecorder:config.usingMediaRecorder!==undefined?config.usingMediaRecorder:typeof window.MediaRecorder!=='undefined',enableEchoCancellation:config.enableEchoCancellation!==undefined?config.enableEchoCancellation:true,sampleRate:config.sampleRate!==undefined?config.sampleRate:44100,onRecording:config.onRecording,onAudioPress:config.onAudioPress};if(config.onRecording){this.recordingFn=function(evt){return config.onRecording(evt);};this.em.addEventListener('recording',this.recordingFn);}if(config.onAudioProcesss){this.onAudioProcessFn=function(evt){return config.onAudioProcesss(evt);};this.em.addEventListener('onaudioprocess',this.onAudioProcessFn);}};\n// EXTERNAL MODULE: ./src/helper/fileHelper.ts\nvar fileHelper = __webpack_require__(246);\n\n// EXTERNAL MODULE: ./src/helper/getDuration.ts\nvar getDuration = __webpack_require__(247);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(176);\n\n// EXTERNAL MODULE: ./node_modules/react-modal/lib/index.js\nvar lib = __webpack_require__(830);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// EXTERNAL MODULE: ./src/components/Button/index.ts + 2 modules\nvar Button = __webpack_require__(168);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(159);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(158);\n\n// CONCATENATED MODULE: ./src/modals/RecordErrorModal/style.ts\nfunction _templateObject3(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  font-family: 'Source Sans Pro';\\n  text-align: center;\\n  line-height: 25px;\\n  font-size: 18px;\\n  margin-top: 10px;\\n  margin-bottom: 30px;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  font-family: 'Biko';\\n  font-size: 30px;\\n  line-height: 30px;\\n  margin-bottom: 10px;\\n  font-weight: 600;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n\\n  @media screen and (\",\") {\\n    margin: auto;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}var ModalBody=styled_components_browser_esm[\"default\"].div(_templateObject(),function(props){return props.theme.breakpoints.tablet;});var ModalTitle=styled_components_browser_esm[\"default\"].div(_templateObject2());var ModalContent=styled_components_browser_esm[\"default\"].div(_templateObject3());\n// CONCATENATED MODULE: ./src/modals/RecordErrorModal/RecordErrorModal.tsx\n/* eslint-disable react/jsx-props-no-spreading */// Style\nlib_default.a.setAppElement('#root');var RecordErrorModal=/*#__PURE__*/react_default.a.memo(function(_ref){var modalTitle=_ref.modalTitle,children=_ref.children,onConfirm=_ref.onConfirm,props=Object(objectWithoutProperties[\"a\" /* default */])(_ref,[\"modalTitle\",\"children\",\"onConfirm\"]);// Handlers\nvar _useTranslation=Object(useTranslation[\"a\" /* useTranslation */])(),t=_useTranslation.t;var customStyles={content:{height:'281px',maxWidth:'348px',margin:'auto',borderRadius:'10px',border:'none'},overlay:{backgroundColor:'rgba(0, 0, 0, 0.5)'}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(lib_default.a,Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},props),{},{style:customStyles,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ModalBody,{className:\"ModalBody\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModalTitle,{children:modalTitle}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ModalContent,{children:children}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:onConfirm,dark:true,children:t('recordingsIntroduction:retryButton','Retry')})]})}));});/* harmony default export */ var RecordErrorModal_RecordErrorModal = (RecordErrorModal);\n// CONCATENATED MODULE: ./src/modals/RecordErrorModal/index.ts\n\n// CONCATENATED MODULE: ./src/assets/icons/start.svg\n/* harmony default export */ var start = (__webpack_require__.p + \"static/media/start.e0d4d3a6.svg\");\n// EXTERNAL MODULE: ./src/assets/icons/stop.svg\nvar stop = __webpack_require__(270);\n\n// EXTERNAL MODULE: ./src/theme/index.ts\nvar theme = __webpack_require__(162);\n\n// CONCATENATED MODULE: ./src/components/MicRecorder/style.ts\nfunction _templateObject11(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  visibility: \",\";\\n\"]);_templateObject11=function _templateObject11(){return data;};return data;}function _templateObject10(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  font-size: 16px;\\n  line-height: 20px;\\n  color: \",\";\\n  font-family: 'Source Sans Pro';\\n  display: flex; \\n  margin-left: 20px;\\n  margin-top:10px;\\n\"]);_templateObject10=function _templateObject10(){return data;};return data;}function _templateObject9(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 70px;\\n  height: 41px;\\n  font-size: 1.25rem;\\n  color: \",\";\\n  font-weight: bold;\\n  font-family: 'Source Sans Pro';\\n  border: 1px solid \",\";\\n  border-radius: 15px;\\n  display: flex; \\n  align-items: center; \\n  justify-content: center; \\n  margin-bottom: 28px;\\n\\n  @media screen and (\",\") {\\n    font-size: 1.75rem;\\n    margin-top: 22px;\\n  }\\n\"]);_templateObject9=function _templateObject9(){return data;};return data;}function _templateObject8(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 15px;\\n  height: 15px;\\n\"]);_templateObject8=function _templateObject8(){return data;};return data;}function _templateObject7(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  width: 27px;\\n  height: 27px;\\n\"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  transition: opacity 0.25s;\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  background-color: \",\";\\n  width: 56px;\\n  height: 56px;\\n  position: relative;\\n  outline: none !important;\\n  border: none;\\n  border-radius: 50%;\\n  padding: 0;\\n  transition: background-color 0.25s;\\n  opacity: \",\";\\n\\n  @supports not (-webkit-touch-callout: none) {\\n    /* CSS for other than iOS devices */\\n    -webkit-tap-highlight-color: transparent;\\n  }\\n\\n  &:active {\\n    background-color: \",\";\\n  }\\n\\n  &:before {\\n    content: '';\\n    position: absolute;\\n    top: 0;\\n    bottom: 0;\\n    left: 0;\\n    right: 0;\\n    background-color: transparent;\\n    z-index: 1;\\n    border-radius: 50%;\\n  }\\n\\n  @media screen and (\",\") {\\n    width: 66px;\\n    height: 66px;\\n  }\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  font-size: 14px;\\n  color: \",\";\\n  margin-top: 8px;\\n  margin-bottom: 0px;\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function style_templateObject3(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n\"]);style_templateObject3=function _templateObject3(){return data;};return data;}function style_templateObject2(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display:flex;\\n  justify-content: space-between;\\n  width: 144px;\\n  margin: auto;\\n\"]);style_templateObject2=function _templateObject2(){return data;};return data;}function style_templateObject(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: flex-start;\\n\"]);style_templateObject=function _templateObject(){return data;};return data;}var MicRecorderContainer=styled_components_browser_esm[\"default\"].div(style_templateObject());var MicButtonsContainer=styled_components_browser_esm[\"default\"].div(style_templateObject2());var MicButtonWithText=styled_components_browser_esm[\"default\"].div(style_templateObject3());var MicNote=styled_components_browser_esm[\"default\"].p(_templateObject4(),theme[\"a\" /* colors */].lightDarkGray);var MicRecorderButton=styled_components_browser_esm[\"default\"].button(_templateObject5(),theme[\"a\" /* colors */].purple,function(props){return props.disabled||props.opacity?'0.5':'1';},theme[\"a\" /* colors */].purple,function(props){return props.theme.breakpoints.tablet;});var MicRecorderImage=styled_components_browser_esm[\"default\"].img(_templateObject6());var MicRecorderStartImage=Object(styled_components_browser_esm[\"default\"])(MicRecorderImage)(_templateObject7());var MicRecorderStopImage=Object(styled_components_browser_esm[\"default\"])(MicRecorderImage)(_templateObject8());var MicRecorderTimerContainer=styled_components_browser_esm[\"default\"].div(_templateObject9(),theme[\"a\" /* colors */].purple,theme[\"a\" /* colors */].purple,function(props){return props.theme.breakpoints.tablet;});var MicRecorderTimerReleaseTextContainer=styled_components_browser_esm[\"default\"].div(_templateObject10(),theme[\"a\" /* colors */].red);var MicRecorderTextP=styled_components_browser_esm[\"default\"].p(_templateObject11(),function(props){return props.show?'flex':'hidden';});\n// CONCATENATED MODULE: ./src/components/MicRecorder/MicRecorder.tsx\n/* eslint-disable react/require-default-props */ /* eslint-disable jsx-a11y/click-events-have-key-events */ /* eslint-disable jsx-a11y/no-static-element-interactions */// Utils\n// Modals\n// Images\n// Styles\nvar baseConfig={usingMediaRecorder:false,sampleRate:48000,manualEncoderId:'wav',// wav / mp3 / flac\nprocessorBufferSize:2048// 4096 flac / 2048 wav\n};var MicRecorder_MicRecorder=function MicRecorder(_ref){var _ref$className=_ref.className,className=_ref$className===void 0?'':_ref$className,_ref$maxTimeInSeconds=_ref.maxTimeInSeconds,maxTimeInSeconds=_ref$maxTimeInSeconds===void 0?30:_ref$maxTimeInSeconds,onNewRecord=_ref.onNewRecord,_ref$delay=_ref.delay,delay=_ref$delay===void 0?500:_ref$delay,recordingFile=_ref.recordingFile;// Hooks\nvar _useTranslation=Object(useTranslation[\"a\" /* useTranslation */])(),t=_useTranslation.t;// Refs\nvar recordingService=react_default.a.useRef();var audioSamples=react_default.a.useRef(0);var timerRef=react_default.a.useRef();var timeout=react_default.a.useRef();var target=react_default.a.useRef();// States\nvar _React$useState=react_default.a.useState(true),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),micAllowed=_React$useState2[0],setMicAllowed=_React$useState2[1];var _React$useState3=react_default.a.useState(),_React$useState4=Object(slicedToArray[\"a\" /* default */])(_React$useState3,2),recordingInProgress=_React$useState4[0],setRecordingInProgress=_React$useState4[1];var _React$useState5=react_default.a.useState(false),_React$useState6=Object(slicedToArray[\"a\" /* default */])(_React$useState5,2),showReleaseText=_React$useState6[0],setShowReleaseText=_React$useState6[1];var _React$useState7=react_default.a.useState(false),_React$useState8=Object(slicedToArray[\"a\" /* default */])(_React$useState7,2),showShortRecordingText=_React$useState8[0],setShowShortRecordingText=_React$useState8[1];var _React$useState9=react_default.a.useState(false),_React$useState10=Object(slicedToArray[\"a\" /* default */])(_React$useState9,2),longPressTriggered=_React$useState10[0],setLongPressTriggered=_React$useState10[1];// Handlers\nvar onAudioProcess=react_default.a.useCallback(function(e){audioSamples.current+=1;var _e$detail=e.detail,inputBuffer=_e$detail.inputBuffer,outputBuffer=_e$detail.outputBuffer;for(var channel=0;channel<outputBuffer.numberOfChannels;channel+=1){var inputData=inputBuffer.getChannelData(channel);var outputData=outputBuffer.getChannelData(channel);// Each sample\nfor(var sample=0;sample<inputBuffer.length;sample+=1){outputData[sample]=inputData[sample];}}},[]);var onNewRecording=react_default.a.useCallback(/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var detail,recording,blob,fileName,file,humanReadableSize;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:detail=e.detail;recording=detail.recording;_context.next=4;return fetch(recording.blobUrl).then(function(r){return r.blob();});case 4:blob=_context.sent;fileName=\"Filename.\".concat(baseConfig.manualEncoderId);file=fileHelper[\"a\" /* default */].blobToFile(blob,fileName);humanReadableSize=fileHelper[\"a\" /* default */].sizeAsHuman(file.size,true);onNewRecord(file,humanReadableSize);case 9:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}(),[onNewRecord]);// Effects\nreact_default.a.useEffect(function(){recordingService.current=new RecorderService_RecorderService(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},baseConfig),{},{onRecording:onNewRecording,onAudioProcesss:onAudioProcess}));var userMediaConstraints={audio:{echoCancellation:recordingService.current.config.enableEchoCancellation}};navigator.mediaDevices.getUserMedia(userMediaConstraints).then(function(){setMicAllowed(true);}).catch(function(){setMicAllowed(false);});if(recordingFile){var _file=recordingFile;if(_file.size){var audio=new Audio(URL.createObjectURL(_file));audio.load();var listenerFn=/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:audio.removeEventListener('loadedmetadata',listenerFn);Object(getDuration[\"a\" /* getDuration */])(audio,true).then(function(result){var _timerRef$current;(_timerRef$current=timerRef.current)===null||_timerRef$current===void 0?void 0:_timerRef$current.setTime(result*1000);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function listenerFn(){return _ref3.apply(this,arguments);};}();audio.addEventListener('loadedmetadata',listenerFn);}}return function(){if(recordingService.current){recordingService.current.cleanup();}};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);// Handlers\nvar handleStartRecording=react_default.a.useCallback(function(){if(recordingService.current){audioSamples.current=0;recordingService.current.startRecording().then(function(){setRecordingInProgress(true);setShowShortRecordingText(false);if(timerRef.current){var _timerRef$current2;timerRef.current.reset();(_timerRef$current2=timerRef.current)===null||_timerRef$current2===void 0?void 0:_timerRef$current2.setTime(0);timerRef.current.start();}}).catch(function(error){return console.error('ERROR',error);});}},[]);var handleStopRecording=react_default.a.useCallback(function(){if(recordingService.current){recordingService.current.stopRecording();setRecordingInProgress(false);if(timerRef.current){if(timerRef.current.getTime()/1000<2){setShowShortRecordingText(true);}timerRef.current.stop();}}},[]);var handleFormatValue=react_default.a.useCallback(function(value){return value<10?\"0\".concat(value):value;},[]);var preventDefault=function preventDefault(event){if(!('touches'in event))event.preventDefault();};var handleStartLongPress=react_default.a.useCallback(function(event){if(event.target){event.target.addEventListener('touchend',preventDefault,{passive:false});target.current=event.target;}timeout.current=setTimeout(function(){setShowReleaseText(true);setLongPressTriggered(true);setShowShortRecordingText(false);},delay);},[delay]);var handleEndLongPress=react_default.a.useCallback(function(){if(timeout.current){clearTimeout(timeout.current);}if(longPressTriggered){setShowReleaseText(false);}setLongPressTriggered(false);if(target.current){target.current.removeEventListener('touchend',preventDefault);}},[longPressTriggered]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(MicRecorderContainer,{className:className,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(MicRecorderTimerReleaseTextContainer,{children:[!showShortRecordingText&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MicRecorderTextP,{show:showReleaseText,children:recordingInProgress?t('recordingsIntroduction:releaseButtonStop'):t('recordingsIntroduction:releaseButtonStart')}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RecordErrorModal_RecordErrorModal,{isOpen:showShortRecordingText,modalTitle:\"Oops.\",onConfirm:handleStartRecording,children:t('recordingsIntroduction:shortRecording')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MicRecorderTimerContainer,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(build_default.a,{ref:timerRef,startImmediately:false,checkpoints:[{time:maxTimeInSeconds*1000,callback:handleStopRecording}],children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(build_default.a.Minutes,{}),\":\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(build_default.a.Seconds,{formatValue:handleFormatValue})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(MicButtonsContainer,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(MicButtonWithText,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MicRecorderButton,{disabled:!micAllowed||recordingInProgress,onClick:handleStartRecording,onMouseDown:handleStartLongPress,onMouseUp:handleEndLongPress,onTouchStart:handleStartLongPress,onTouchEnd:handleEndLongPress,onMouseLeave:handleEndLongPress,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MicRecorderStartImage,{src:start,alt:\"Start\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MicNote,{children:t('recordingsIntroduction:recordCough.record')})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(MicButtonWithText,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MicRecorderButton,{disabled:!micAllowed||!recordingInProgress,onClick:handleStopRecording,onMouseDown:handleStartLongPress,onMouseUp:handleEndLongPress,onTouchStart:handleStartLongPress,onTouchEnd:handleEndLongPress,onMouseLeave:handleEndLongPress,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MicRecorderStopImage,{src:stop[\"a\" /* default */],alt:\"Stop\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MicNote,{children:t('recordingsIntroduction:recordCough.stop')})]})]})]});};/* harmony default export */ var components_MicRecorder_MicRecorder = (/*#__PURE__*/react_default.a.memo(MicRecorder_MicRecorder));\n// CONCATENATED MODULE: ./src/components/MicRecorder/index.ts\n\n// EXTERNAL MODULE: ./src/components/WizardButtons/index.tsx + 2 modules\nvar WizardButtons = __webpack_require__(170);\n\n// CONCATENATED MODULE: ./src/assets/icons/upload.svg\n/* harmony default export */ var upload = (__webpack_require__.p + \"static/media/upload.21eec1c7.svg\");\n// EXTERNAL MODULE: ./src/containers/SubmitSteps/RecordingsSteps/Introduction/Record/style.ts\nvar style = __webpack_require__(271);\n\n// CONCATENATED MODULE: ./src/containers/SubmitSteps/RecordingsSteps/Introduction/Record/Record.tsx\n// Form\n// Components\n// Images\n// Styles\nvar audioMaxSizeInMb=5;var schema=es[\"b\" /* object */]({recordingFile:es[\"a\" /* mixed */]().required('ERROR.FILE_REQUIRED').test('fileSize','ERROR.FILE_SIZE',function(value){if(value){var file=value;var size=file.size;return size<=Math.pow(1024,3)*audioMaxSizeInMb;}return!!value;}).test('fileDuration','ERROR.FILE_DURATION',/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(value){var file,audio,duration;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!value){_context.next=10;break;}file=value;audio=new Audio(URL.createObjectURL(file));audio.load();_context.next=6;return new Promise(function(resolver){return audio.addEventListener('loadedmetadata',resolver);});case 6:_context.next=8;return new Promise(function(resolver){if(audio.duration!==Infinity){resolver(audio.duration);}audio.addEventListener('durationchange',function(){audio.remove();resolver(audio.duration);});audio.volume=0;audio.currentTime=24*60*60;// Unprobable time\naudio.play();});case 8:duration=_context.sent;return _context.abrupt(\"return\",duration>=2);case 10:return _context.abrupt(\"return\",!!value);case 11:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}())}).defined();var Record_Record=function Record(_ref2){var onNext=_ref2.onNext,onManualUpload=_ref2.onManualUpload,defaultValues=_ref2.defaultValues,currentLogic=_ref2.currentLogic,action=_ref2.action;// Hooks\nvar _usePortal=usePortal_default()({bindTo:document&&document.getElementById('wizard-buttons')}),Portal=_usePortal.Portal;var _useForm=Object(index_esm[\"c\" /* useForm */])({mode:'onChange',defaultValues:defaultValues,resolver:Object(yup[\"yupResolver\"])(schema)}),handleSubmit=_useForm.handleSubmit,control=_useForm.control,getValues=_useForm.getValues,formState=_useForm.formState;var _useTranslation=Object(useTranslation[\"a\" /* useTranslation */])(),t=_useTranslation.t;var isValid=formState.isValid;// Refs\nvar micKey=react_default.a.useRef(1);var onManualUploadWithFile=function onManualUploadWithFile(){action(Object(defineProperty[\"a\" /* default */])({},currentLogic,{recordingFile:getValues('recordingFile')||null,uploadedFile:null}));onManualUpload===null||onManualUpload===void 0?void 0:onManualUpload();};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(style[\"MainContainer\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(style[\"MicContainer\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"a\" /* Controller */],{control:control,name:\"recordingFile\",render:function render(_ref3){var onChange=_ref3.onChange;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_MicRecorder_MicRecorder,{// On delete, easy re-mount a new mic recorder\nonNewRecord:onChange,recordingFile:defaultValues===null||defaultValues===void 0?void 0:defaultValues.recordingFile},micKey.current);}})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Portal,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WizardButtons[\"a\" /* default */],{invert:true,leftLabel:t('recordingsRecord:next'),leftDisabled:!isValid,leftHandler:handleSubmit(onNext)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(style[\"UploadContainer\"],{onClick:onManualUploadWithFile,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(style[\"UploadImage\"],{src:upload}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(style[\"UploadText\"],{children:t('recordingsRecord:upload')})]})]})]})});};/* harmony default export */ var Introduction_Record_Record = __webpack_exports__[\"default\"] = (/*#__PURE__*/react_default.a.memo(Record_Record));\n\n/***/ }),\n\n/***/ 246:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* eslint-disable no-plusplus */ /* eslint-disable no-param-reassign */var sizeAsHuman=function sizeAsHuman(bytes,si){var thresh=si?1000:1024;if(Math.abs(bytes)<thresh){return\"\".concat(bytes,\" B\");}var units=si?['kB','MB','GB','TB','PB','EB','ZB','YB']:['KiB','MiB','GiB','TiB','PiB','EiB','ZiB','YiB'];var u=-1;do{bytes/=thresh;++u;}while(Math.abs(bytes)>=thresh&&u<units.length-1);return\"\".concat(bytes.toFixed(1),\" \").concat(units[u]);};var blobToFile=function blobToFile(theBlob,fileName){var b=theBlob;// A Blob() is almost a File() - it's just missing the two properties below which we will add\nb.lastModifiedDate=new Date();b.name=fileName;// Cast to a File() type\nreturn theBlob;};/* harmony default export */ __webpack_exports__[\"a\"] = ({sizeAsHuman:sizeAsHuman,blobToFile:blobToFile});\n\n/***/ }),\n\n/***/ 247:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return getDuration; });\n/* harmony import */ var react_device_detect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(326);\n/* harmony import */ var react_device_detect__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_device_detect__WEBPACK_IMPORTED_MODULE_0__);\nfunction getDuration(e,remove){return new Promise(function(resolver){if(e.duration!==Infinity&&(!react_device_detect__WEBPACK_IMPORTED_MODULE_0__[\"isSafari\"]||react_device_detect__WEBPACK_IMPORTED_MODULE_0__[\"isSafari\"]&&e.duration>0)){resolver(e.duration);return;}e.addEventListener('durationchange',function(){if(remove){e.remove();}else{e.pause();e.volume=1;e.currentTime=0;}resolver(e.duration);});e.currentTime=24*60*60;// Unprobable time\ne.play();});}\n\n/***/ }),\n\n/***/ 270:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.p + \"static/media/stop.e6f44abd.svg\");\n\n/***/ }),\n\n/***/ 271:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MainContainer\", function() { return MainContainer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Text\", function() { return Text; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MicContainer\", function() { return MicContainer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UploadContainer\", function() { return UploadContainer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UploadImage\", function() { return UploadImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UploadText\", function() { return UploadText; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StopImg\", function() { return StopImg; });\n/* harmony import */ var _home_amil_virufy_demo_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(159);\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(158);\n/* harmony import */ var components_Texts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(173);\n/* harmony import */ var theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(162);\n/* harmony import */ var assets_icons_stop_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(270);\nfunction _templateObject7(){var data=Object(_home_amil_virufy_demo_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])([\"\\n  display: inline;\\n  height: 10px;\\n  margin: 0px 2px 4px;\\n\"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=Object(_home_amil_virufy_demo_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])([\"\\n  cursor: pointer;\\n  font-family: Source Sans Pro;\\n  font-weight: bold;\\n  font-size: 0.75rem;\\n  line-height: 24px;\\n  color: \",\";\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=Object(_home_amil_virufy_demo_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])([\"\\n  cursor: pointer;\\n  width: 13px;\\n  height: 12px;\\n  margin-right: 7px;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=Object(_home_amil_virufy_demo_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  padding: 0px 20px;\\n  margin: 20px auto;\\n  width: fit-content;\\n\\n\\n  @media screen and (\",\"){\\n    padding: 0px 22px;\\n    margin: 22px auto;\\n  }\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=Object(_home_amil_virufy_demo_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])([\"\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=Object(_home_amil_virufy_demo_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])([\"\\n  color: \",\";\\n  margin-bottom: 2px;\\n  text-align: left;\\n\\n  @media screen and (\",\"){\\n    max-width: 470px;\\n    margin: 0 auto;\\n    font-size: 16px;\\n  }\\n\\n  @media screen and (\",\"){\\n    @media (orientation: portrait) {\\n      margin-bottom: 248px;\\n    }\\n\\n    @media (orientation: landscape) {\\n      margin-bottom: 24px;\\n    }\\n  }\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=Object(_home_amil_virufy_demo_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])([\"\\n  padding: 0px 0px;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}var MainContainer=styled_components__WEBPACK_IMPORTED_MODULE_1__[\"default\"].div(_templateObject());var Text=Object(styled_components__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(components_Texts__WEBPACK_IMPORTED_MODULE_2__[/* BlackText */ \"b\"])(_templateObject2(),function(props){return props.theme.colors.darkBlack;},function(props){return props.theme.breakpoints.tablet;},function(props){return props.theme.breakpoints.tablet;});var MicContainer=styled_components__WEBPACK_IMPORTED_MODULE_1__[\"default\"].div(_templateObject3());var UploadContainer=styled_components__WEBPACK_IMPORTED_MODULE_1__[\"default\"].div(_templateObject4(),function(props){return props.theme.breakpoints.tablet;});var UploadImage=styled_components__WEBPACK_IMPORTED_MODULE_1__[\"default\"].img(_templateObject5());var UploadText=styled_components__WEBPACK_IMPORTED_MODULE_1__[\"default\"].div(_templateObject6(),theme__WEBPACK_IMPORTED_MODULE_3__[/* colors */ \"a\"].darkBlack);var StopImg=styled_components__WEBPACK_IMPORTED_MODULE_1__[\"default\"].img.attrs(function(){return{src:assets_icons_stop_svg__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"]};})(_templateObject7());\n\n/***/ })\n\n}]);","inputSourceMap":null}