{"code":"(this[\"webpackJsonppwa-demo\"]=this[\"webpackJsonppwa-demo\"]||[]).push([[18,34],{220:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return y}));var r=n(37),c=n(161),o=n(165),a=n(6),u=n.n(a),i=n(56),s=n(284),p=n(174),d=n(166),l=n(159),h=n(158);function f(){var t=Object(l.a)([\"\\n  @media screen and (\",\"){\\n    margin: auto;\\n\\n    max-width: 768px;\\n    width: 100%;\\n  }\\n\"]);return f=function(){return t},t}var m=h.default.div(f(),(function(t){return t.theme.breakpoints.tablet}));function b(){var t=Object(l.a)([\"\\n  margin-bottom: 16px;\\n\"]);return b=function(){return t},t}function j(){var t=Object(l.a)([\"\\n  height: 100%;\\n\"]);return j=function(){return t},t}function v(){var t=Object(l.a)([\"\\n  display: flex;\\n  flex-direction:column;\\n\\n  height:100%;\\n\"]);return v=function(){return t},t}var g=h.default.div(v()),O=h.default.div(j()),x=h.default.div(b()),S=Object(i.a)((function(t){var e=t.container;return n(233)(\"./\".concat(e))}),{fallback:Object(r.jsx)(\"div\",{children:\"Loading ...\"}),cacheKey:function(t){return t.container}});var w=function(t){var e=t.steps,n=t.children,a=Object(p.i)(),i=Object(p.h)(),l=u.a.useState(!1),h=Object(o.a)(l,2),f=h[0],b=h[1],j=u.a.useMemo((function(){var t=a.url.replace(/\\/$/,\"\");return e.map((function(e){return t+e.path}))}),[a.url,e]);return u.a.useEffect((function(){b(!0)}),[]),Object(r.jsx)(d.a,{children:Object(r.jsxs)(g,{children:[Object(r.jsx)(O,{children:f&&Object(r.jsx)(s.a,{location:i,timing:\"ease-in-out\",duration:500,pathList:j,children:e.map((function(t){return Object(r.jsx)(p.b,{exact:!0,path:Array.isArray(t.path)?t.path.map((function(t){return a.path+t})):a.path+t.path,render:function(){return Object(r.jsx)(m,{children:Object(r.jsx)(S,Object(c.a)({container:t.componentPath},t.props))})}},t.componentPath)}))})}),Object(r.jsx)(x,{id:\"wizard-buttons\",children:n})]})})},y=u.a.memo(w)},249:function(t,e,n){\"use strict\";n.r(e);var r=n(37),c=n(167),o=n(6),a=n.n(o),u=n(166),i=n(174),s=n(220),p=\"submit-steps\";Object(u.b)(Object(c.a)({},p,{recordYourCough:{recordingFile:void 0,uploadedFile:void 0}}),{name:\"VirufyWizard\",middleWares:[],storageType:window.localStorage});var d=\"/submit-steps\",l=\"SubmitSteps\",h=\"RecordingsSteps\",f=\"recordYourCough\",m=[{path:\"/step-record/cough\",componentPath:\"\".concat(l,\"/\").concat(h,\"/Introduction\"),props:{storeKey:p,previousStep:\"/welcome/step-3\",nextStep:\"\".concat(d,\"/step-listen/cough\"),otherSteps:{manualUploadStep:\"\".concat(d,\"/step-manual-upload/cough\")},metadata:{currentLogic:f}}},{path:\"/step-manual-upload/cough\",componentPath:\"\".concat(l,\"/\").concat(h,\"/RecordManualUpload\"),props:{storeKey:p,previousStep:\"\".concat(d,\"/step-record/cough\"),nextStep:\"\".concat(d,\"/step-listen/cough\"),metadata:{currentLogic:f}}},{path:\"/step-listen/cough\",componentPath:\"\".concat(l,\"/\").concat(h,\"/ListenAudio\"),props:{storeKey:p,previousStep:\"\".concat(d,\"/step-record/cough\"),nextStep:\"\".concat(d,\"/prediction-result\"),metadata:{currentLogic:f}}},{path:\"/prediction-result\",componentPath:\"\".concat(l,\"/\").concat(\"Submission\",\"/PredictionResult\"),props:{storeKey:p,previousStep:\"\".concat(d,\"/step-record/cough\"),nextStep:\"\"}}],b=function(){var t=Object(u.c)().state,e=Object(i.g)();return a.a.useEffect((function(){var n=function(t){var e=null;if(t[p]){var n=t[p].recordYourCough,r=[];if(n){var c=n.recordingFile,o=n.uploadedFile;c&&r.push({file:c,route:\"/step-record/cough\"}),o&&r.push({file:o,route:\"/step-manual-upload/cough\"})}var a=r.find((function(t){return!(!(e=t.file)||void 0!==e.size);var e}));a&&(e=a.route)}return e}(t);n&&e.push(\"/\".concat(p).concat(n))}),[]),null},j=function(){return Object(r.jsx)(s.a,{steps:m,children:Object(r.jsx)(b,{})})};e.default=a.a.memo(j)},277:function(t,e,n){\"use strict\";n.r(e);var r=n(249);n.d(e,\"default\",(function(){return r.default}))}}]);","name":"static/js/18.e1eb09e5.chunk.js","input":"(this[\"webpackJsonppwa-demo\"] = this[\"webpackJsonppwa-demo\"] || []).push([[18,34],{\n\n/***/ 220:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* reexport */ components_Wizard_Wizard; });\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(37);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(161);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(165);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(6);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/@loadable/component/dist/loadable.esm.js\nvar loadable_esm = __webpack_require__(56);\n\n// EXTERNAL MODULE: ./node_modules/react-slide-routes/dist/react-slide-routes.esm.js + 20 modules\nvar react_slide_routes_esm = __webpack_require__(284);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(174);\n\n// EXTERNAL MODULE: ./node_modules/little-state-machine/dist/little-state-machine.es.js\nvar little_state_machine_es = __webpack_require__(166);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(159);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(158);\n\n// CONCATENATED MODULE: ./src/components/Layout/Layout.ts\nfunction _templateObject(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  @media screen and (\",\"){\\n    margin: auto;\\n\\n    max-width: 768px;\\n    width: 100%;\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}var Layout=styled_components_browser_esm[\"default\"].div(_templateObject(),function(props){return props.theme.breakpoints.tablet;});/* harmony default export */ var Layout_Layout = (Layout);\n// CONCATENATED MODULE: ./src/components/Layout/index.ts\n\n// CONCATENATED MODULE: ./src/components/Wizard/style.ts\nfunction _templateObject3(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  margin-bottom: 16px;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  height: 100%;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function style_templateObject(){var data=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  display: flex;\\n  flex-direction:column;\\n\\n  height:100%;\\n\"]);style_templateObject=function _templateObject(){return data;};return data;}var WizardContainer=styled_components_browser_esm[\"default\"].div(style_templateObject());var StepContainer=styled_components_browser_esm[\"default\"].div(_templateObject2());var WizardNavControlPortal=styled_components_browser_esm[\"default\"].div(_templateObject3());\n// CONCATENATED MODULE: ./src/components/Wizard/Wizard.tsx\n// Components\n// Style\nvar AsyncLoad=Object(loadable_esm[\"a\" /* default */])(function(_ref){var container=_ref.container;return __webpack_require__(233)(\"./\".concat(container));},{fallback:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Loading ...\"}),cacheKey:function cacheKey(_ref2){var container=_ref2.container;return container;}});function clearPath(path){return path.replace(/\\/$/,'');}var Wizard_Wizard=function Wizard(_ref3){var steps=_ref3.steps,children=_ref3.children;var match=Object(react_router[\"i\" /* useRouteMatch */])();var location=Object(react_router[\"h\" /* useLocation */])();var _React$useState=react_default.a.useState(false),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),loadSteps=_React$useState2[0],setLoadSteps=_React$useState2[1];var pathList=react_default.a.useMemo(function(){var base=clearPath(match.url);return steps.map(function(step){return base+step.path;});},[match.url,steps]);react_default.a.useEffect(function(){setLoadSteps(true);},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(little_state_machine_es[\"a\" /* StateMachineProvider */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(WizardContainer,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StepContainer,{children:loadSteps&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_slide_routes_esm[\"a\" /* default */],{location:location,timing:\"ease-in-out\",duration:500,pathList:pathList,children:steps.map(function(step){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:Array.isArray(step.path)?step.path.map(function(s){return match.path+s;}):match.path+step.path,render:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Layout_Layout,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AsyncLoad,Object(objectSpread2[\"a\" /* default */])({container:step.componentPath},step.props))});}},step.componentPath);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WizardNavControlPortal,{id:\"wizard-buttons\",children:children})]})});};/* harmony default export */ var components_Wizard_Wizard = (/*#__PURE__*/react_default.a.memo(Wizard_Wizard));\n// CONCATENATED MODULE: ./src/components/Wizard/index.ts\n\n\n/***/ }),\n\n/***/ 249:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(37);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _home_amil_virufy_demo_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(167);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var little_state_machine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(166);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(174);\n/* harmony import */ var components_Wizard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(220);\n// Wizard\nvar StoreKey='submit-steps';Object(little_state_machine__WEBPACK_IMPORTED_MODULE_3__[/* createStore */ \"b\"])(Object(_home_amil_virufy_demo_github_io_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({},StoreKey,{recordYourCough:{recordingFile:undefined,uploadedFile:undefined}}),{name:'VirufyWizard',middleWares:[],storageType:window.localStorage});var baseUrl='/submit-steps';var baseComponentPath='SubmitSteps';var middleComponentPathRecording='RecordingsSteps';var middleComponentPathSubmission='Submission';var recordYourCoughLogic='recordYourCough';var steps=[// Record Your Cough Steps\n{path:'/step-record/cough',componentPath:\"\".concat(baseComponentPath,\"/\").concat(middleComponentPathRecording,\"/Introduction\"),props:{storeKey:StoreKey,previousStep:'/welcome/step-3',nextStep:\"\".concat(baseUrl,\"/step-listen/cough\"),otherSteps:{manualUploadStep:\"\".concat(baseUrl,\"/step-manual-upload/cough\")},metadata:{currentLogic:recordYourCoughLogic}}},{path:'/step-manual-upload/cough',componentPath:\"\".concat(baseComponentPath,\"/\").concat(middleComponentPathRecording,\"/RecordManualUpload\"),props:{storeKey:StoreKey,previousStep:\"\".concat(baseUrl,\"/step-record/cough\"),nextStep:\"\".concat(baseUrl,\"/step-listen/cough\"),metadata:{currentLogic:recordYourCoughLogic}}},{path:'/step-listen/cough',componentPath:\"\".concat(baseComponentPath,\"/\").concat(middleComponentPathRecording,\"/ListenAudio\"),props:{storeKey:StoreKey,previousStep:\"\".concat(baseUrl,\"/step-record/cough\"),nextStep:\"\".concat(baseUrl,\"/prediction-result\"),metadata:{currentLogic:recordYourCoughLogic}}},// Submission\n{path:'/prediction-result',componentPath:\"\".concat(baseComponentPath,\"/\").concat(middleComponentPathSubmission,\"/PredictionResult\"),props:{storeKey:StoreKey,previousStep:\"\".concat(baseUrl,\"/step-record/cough\"),nextStep:''}}];var SubmitSteps=function SubmitSteps(){// Hooks\nvar _useStateMachine=Object(little_state_machine__WEBPACK_IMPORTED_MODULE_3__[/* useStateMachine */ \"c\"])(),state=_useStateMachine.state;var history=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_4__[/* useHistory */ \"g\"])();// Effects\nreact__WEBPACK_IMPORTED_MODULE_2___default.a.useEffect(function(){var checkFileProblem=function checkFileProblem(file){if(file&&file.size===undefined){return true;}return false;};var checkFileConsistencyProblem=function checkFileConsistencyProblem(inputState){var out=null;if(inputState[StoreKey]){var recordYourCough=inputState[StoreKey].recordYourCough;var toTest=[];if(recordYourCough){var recordingFile=recordYourCough.recordingFile,uploadedFile=recordYourCough.uploadedFile;if(recordingFile){toTest.push({file:recordingFile,route:'/step-record/cough'});}if(uploadedFile){toTest.push({file:uploadedFile,route:'/step-manual-upload/cough'});}}var itemWithProblem=toTest.find(function(toTestItem){return checkFileProblem(toTestItem.file);});if(itemWithProblem){out=itemWithProblem.route;}}return out;};var problemRoute=checkFileConsistencyProblem(state);if(problemRoute){history.push(\"/\".concat(StoreKey).concat(problemRoute));}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return null;};var WrapperSubmitSteps=function WrapperSubmitSteps(){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(components_Wizard__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{steps:steps,children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(SubmitSteps,{})});};/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.memo(WrapperSubmitSteps));\n\n/***/ }),\n\n/***/ 277:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _SubmitSteps__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(249);\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _SubmitSteps__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n\n\n/***/ })\n\n}]);","inputSourceMap":null}